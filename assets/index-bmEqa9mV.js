var Tn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};function ql(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function fi(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const be={},un=[],tt=()=>{},Gl=()=>!1,zr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ui=t=>t.startsWith("onUpdate:"),Le=Object.assign,hi=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Wl=Object.prototype.hasOwnProperty,fe=(t,e)=>Wl.call(t,e),re=Array.isArray,hn=t=>Hr(t)==="[object Map]",Ca=t=>Hr(t)==="[object Set]",se=t=>typeof t=="function",Oe=t=>typeof t=="string",Sn=t=>typeof t=="symbol",xe=t=>t!==null&&typeof t=="object",Sa=t=>(xe(t)||se(t))&&se(t.then)&&se(t.catch),Ea=Object.prototype.toString,Hr=t=>Ea.call(t),Jl=t=>Hr(t).slice(8,-1),Ra=t=>Hr(t)==="[object Object]",di=t=>Oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ln=fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Yl=/-(\w)/g,vt=Kr(t=>t.replace(Yl,(e,n)=>n?n.toUpperCase():"")),Xl=/\B([A-Z])/g,Yt=Kr(t=>t.replace(Xl,"-$1").toLowerCase()),qr=Kr(t=>t.charAt(0).toUpperCase()+t.slice(1)),is=Kr(t=>t?`on${qr(t)}`:""),$t=(t,e)=>!Object.is(t,e),os=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Mr=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ql=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ji;const ka=()=>Ji||(Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pi(t){if(re(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Oe(r)?nf(r):pi(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Oe(t)||xe(t))return t}const Zl=/;(?![^(]*\))/g,ef=/:([^]+)/,tf=/\/\*[^]*?\*\//g;function nf(t){const e={};return t.replace(tf,"").split(Zl).forEach(n=>{if(n){const r=n.split(ef);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function dn(t){let e="";if(Oe(t))e=t;else if(re(t))for(let n=0;n<t.length;n++){const r=dn(t[n]);r&&(e+=r+" ")}else if(xe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const rf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sf=fi(rf);function Ta(t){return!!t||t===""}const of=t=>Oe(t)?t:t==null?"":re(t)||xe(t)&&(t.toString===Ea||!se(t.toString))?JSON.stringify(t,Pa,2):String(t),Pa=(t,e)=>e&&e.__v_isRef?Pa(t,e.value):hn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[as(r,i)+" =>"]=s,n),{})}:Ca(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>as(n))}:Sn(e)?as(e):xe(e)&&!re(e)&&!Ra(e)?String(e):e,as=(t,e="")=>{var n;return Sn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class Oa{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rt,!e&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=rt;try{return rt=this,e()}finally{rt=n}}}on(){rt=this}off(){rt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function af(t){return new Oa(t)}function cf(t,e=rt){e&&e.active&&e.effects.push(t)}function lf(){return rt}let Kt;class mi{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,cf(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Xt();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(ff(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Qt()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Bt,n=Kt;try{return Bt=!0,Kt=this,this._runnings++,Yi(this),this.fn()}finally{Xi(this),this._runnings--,Kt=n,Bt=e}}stop(){var e;this.active&&(Yi(this),Xi(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function ff(t){return t.value}function Yi(t){t._trackId++,t._depsLength=0}function Xi(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Aa(t.deps[e],t);t.deps.length=t._depsLength}}function Aa(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let Bt=!0,Rs=0;const wa=[];function Xt(){wa.push(Bt),Bt=!1}function Qt(){const t=wa.pop();Bt=t===void 0?!0:t}function gi(){Rs++}function yi(){for(Rs--;!Rs&&ks.length;)ks.shift()()}function Ia(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Aa(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ks=[];function Ma(t,e,n){gi();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ks.push(r.scheduler)))}yi()}const Da=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Ts=new WeakMap,qt=Symbol(""),Ps=Symbol("");function We(t,e,n){if(Bt&&Kt){let r=Ts.get(t);r||Ts.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Da(()=>r.delete(n))),Ia(Kt,s)}}function kt(t,e,n,r,s,i){const o=Ts.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&re(t)){const c=Number(r);o.forEach((f,l)=>{(l==="length"||!Sn(l)&&l>=c)&&a.push(f)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":re(t)?di(n)&&a.push(o.get("length")):(a.push(o.get(qt)),hn(t)&&a.push(o.get(Ps)));break;case"delete":re(t)||(a.push(o.get(qt)),hn(t)&&a.push(o.get(Ps)));break;case"set":hn(t)&&a.push(o.get(qt));break}gi();for(const c of a)c&&Ma(c,4);yi()}const uf=fi("__proto__,__v_isRef,__isVue"),La=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sn)),Qi=hf();function hf(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ue(this);for(let i=0,o=this.length;i<o;i++)We(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(ue)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Xt(),gi();const r=ue(this)[e].apply(this,n);return yi(),Qt(),r}}),t}function df(t){const e=ue(this);return We(e,"has",t),e.hasOwnProperty(t)}class Ba{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?kf:ja:i?Na:$a).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=re(e);if(!s){if(o&&fe(Qi,n))return Reflect.get(Qi,n,r);if(n==="hasOwnProperty")return df}const a=Reflect.get(e,n,r);return(Sn(n)?La.has(n):uf(n))||(s||We(e,"get",n),i)?a:Je(a)?o&&di(n)?a:a.value:xe(a)?s?Va(a):Wr(a):a}}class Ua extends Ba{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=_n(i);if(!Dr(r)&&!_n(r)&&(i=ue(i),r=ue(r)),!re(e)&&Je(i)&&!Je(r))return c?!1:(i.value=r,!0)}const o=re(e)&&di(n)?Number(n)<e.length:fe(e,n),a=Reflect.set(e,n,r,s);return e===ue(s)&&(o?$t(r,i)&&kt(e,"set",n,r):kt(e,"add",n,r)),a}deleteProperty(e,n){const r=fe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&kt(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Sn(n)||!La.has(n))&&We(e,"has",n),r}ownKeys(e){return We(e,"iterate",re(e)?"length":qt),Reflect.ownKeys(e)}}class pf extends Ba{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const mf=new Ua,gf=new pf,yf=new Ua(!0),_i=t=>t,Gr=t=>Reflect.getPrototypeOf(t);function rr(t,e,n=!1,r=!1){t=t.__v_raw;const s=ue(t),i=ue(e);n||($t(e,i)&&We(s,"get",e),We(s,"get",i));const{has:o}=Gr(s),a=r?_i:n?Ci:zn;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function sr(t,e=!1){const n=this.__v_raw,r=ue(n),s=ue(t);return e||($t(t,s)&&We(r,"has",t),We(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ir(t,e=!1){return t=t.__v_raw,!e&&We(ue(t),"iterate",qt),Reflect.get(t,"size",t)}function Zi(t){t=ue(t);const e=ue(this);return Gr(e).has.call(e,t)||(e.add(t),kt(e,"add",t,t)),this}function eo(t,e){e=ue(e);const n=ue(this),{has:r,get:s}=Gr(n);let i=r.call(n,t);i||(t=ue(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?$t(e,o)&&kt(n,"set",t,e):kt(n,"add",t,e),this}function to(t){const e=ue(this),{has:n,get:r}=Gr(e);let s=n.call(e,t);s||(t=ue(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&kt(e,"delete",t,void 0),i}function no(){const t=ue(this),e=t.size!==0,n=t.clear();return e&&kt(t,"clear",void 0,void 0),n}function or(t,e){return function(r,s){const i=this,o=i.__v_raw,a=ue(o),c=e?_i:t?Ci:zn;return!t&&We(a,"iterate",qt),o.forEach((f,l)=>r.call(s,c(f),c(l),i))}}function ar(t,e,n){return function(...r){const s=this.__v_raw,i=ue(s),o=hn(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=s[t](...r),l=n?_i:e?Ci:zn;return!e&&We(i,"iterate",c?Ps:qt),{next(){const{value:u,done:d}=f.next();return d?{value:u,done:d}:{value:a?[l(u[0]),l(u[1])]:l(u),done:d}},[Symbol.iterator](){return this}}}}function Ot(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _f(){const t={get(i){return rr(this,i)},get size(){return ir(this)},has:sr,add:Zi,set:eo,delete:to,clear:no,forEach:or(!1,!1)},e={get(i){return rr(this,i,!1,!0)},get size(){return ir(this)},has:sr,add:Zi,set:eo,delete:to,clear:no,forEach:or(!1,!0)},n={get(i){return rr(this,i,!0)},get size(){return ir(this,!0)},has(i){return sr.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:or(!0,!1)},r={get(i){return rr(this,i,!0,!0)},get size(){return ir(this,!0)},has(i){return sr.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:or(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ar(i,!1,!1),n[i]=ar(i,!0,!1),e[i]=ar(i,!1,!0),r[i]=ar(i,!0,!0)}),[t,n,e,r]}const[bf,xf,vf,Cf]=_f();function bi(t,e){const n=e?t?Cf:vf:t?xf:bf;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(fe(n,s)&&s in r?n:r,s,i)}const Sf={get:bi(!1,!1)},Ef={get:bi(!1,!0)},Rf={get:bi(!0,!1)},$a=new WeakMap,Na=new WeakMap,ja=new WeakMap,kf=new WeakMap;function Tf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pf(t){return t.__v_skip||!Object.isExtensible(t)?0:Tf(Jl(t))}function Wr(t){return _n(t)?t:xi(t,!1,mf,Sf,$a)}function Fa(t){return xi(t,!1,yf,Ef,Na)}function Va(t){return xi(t,!0,gf,Rf,ja)}function xi(t,e,n,r,s){if(!xe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Pf(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function pn(t){return _n(t)?pn(t.__v_raw):!!(t&&t.__v_isReactive)}function _n(t){return!!(t&&t.__v_isReadonly)}function Dr(t){return!!(t&&t.__v_isShallow)}function za(t){return pn(t)||_n(t)}function ue(t){const e=t&&t.__v_raw;return e?ue(e):t}function vi(t){return Object.isExtensible(t)&&Mr(t,"__v_skip",!0),t}const zn=t=>xe(t)?Wr(t):t,Ci=t=>xe(t)?Va(t):t;class Ha{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mi(()=>e(this._value),()=>mr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=ue(this);return(!e._cacheable||e.effect.dirty)&&$t(e._value,e._value=e.effect.run())&&mr(e,4),Ka(e),e.effect._dirtyLevel>=2&&mr(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Of(t,e,n=!1){let r,s;const i=se(t);return i?(r=t,s=tt):(r=t.get,s=t.set),new Ha(r,s,i||!s,n)}function Ka(t){var e;Bt&&Kt&&(t=ue(t),Ia(Kt,(e=t.dep)!=null?e:t.dep=Da(()=>t.dep=void 0,t instanceof Ha?t:void 0)))}function mr(t,e=4,n){t=ue(t);const r=t.dep;r&&Ma(r,e)}function Je(t){return!!(t&&t.__v_isRef===!0)}function Vt(t){return qa(t,!1)}function Af(t){return qa(t,!0)}function qa(t,e){return Je(t)?t:new wf(t,e)}class wf{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ue(e),this._value=n?e:zn(e)}get value(){return Ka(this),this._value}set value(e){const n=this.__v_isShallow||Dr(e)||_n(e);e=n?e:ue(e),$t(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:zn(e),mr(this,4))}}function mn(t){return Je(t)?t.value:t}const If={get:(t,e,n)=>mn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Ga(t){return pn(t)?t:new Proxy(t,If)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ut(t,e,n,r){try{return r?t(...r):t()}catch(s){Jr(s,e,n)}}function lt(t,e,n,r){if(se(t)){const i=Ut(t,e,n,r);return i&&Sa(i)&&i.catch(o=>{Jr(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(lt(t[i],e,n,r));return s}function Jr(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const f=i.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Ut(c,null,10,[t,o,a]);return}}Mf(t,n,s,r)}function Mf(t,e,n,r=!0){console.error(t)}let Hn=!1,Os=!1;const Ue=[];let yt=0;const gn=[];let It=null,zt=0;const Wa=Promise.resolve();let Si=null;function Ja(t){const e=Si||Wa;return t?e.then(this?t.bind(this):t):e}function Df(t){let e=yt+1,n=Ue.length;for(;e<n;){const r=e+n>>>1,s=Ue[r],i=Kn(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Ei(t){(!Ue.length||!Ue.includes(t,Hn&&t.allowRecurse?yt+1:yt))&&(t.id==null?Ue.push(t):Ue.splice(Df(t.id),0,t),Ya())}function Ya(){!Hn&&!Os&&(Os=!0,Si=Wa.then(Qa))}function Lf(t){const e=Ue.indexOf(t);e>yt&&Ue.splice(e,1)}function Bf(t){re(t)?gn.push(...t):(!It||!It.includes(t,t.allowRecurse?zt+1:zt))&&gn.push(t),Ya()}function ro(t,e,n=Hn?yt+1:0){for(;n<Ue.length;n++){const r=Ue[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Ue.splice(n,1),n--,r()}}}function Xa(t){if(gn.length){const e=[...new Set(gn)].sort((n,r)=>Kn(n)-Kn(r));if(gn.length=0,It){It.push(...e);return}for(It=e,zt=0;zt<It.length;zt++)It[zt]();It=null,zt=0}}const Kn=t=>t.id==null?1/0:t.id,Uf=(t,e)=>{const n=Kn(t)-Kn(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Qa(t){Os=!1,Hn=!0,Ue.sort(Uf);try{for(yt=0;yt<Ue.length;yt++){const e=Ue[yt];e&&e.active!==!1&&Ut(e,null,14)}}finally{yt=0,Ue.length=0,Xa(),Hn=!1,Si=null,(Ue.length||gn.length)&&Qa()}}function $f(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||be;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:d}=r[l]||be;d&&(s=n.map(g=>Oe(g)?g.trim():g)),u&&(s=n.map(Ql))}let a,c=r[a=is(e)]||r[a=is(vt(e))];!c&&i&&(c=r[a=is(Yt(e))]),c&&lt(c,t,6,s);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lt(f,t,6,s)}}function Za(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!se(t)){const c=f=>{const l=Za(f,e,!0);l&&(a=!0,Le(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(xe(t)&&r.set(t,null),null):(re(i)?i.forEach(c=>o[c]=null):Le(o,i),xe(t)&&r.set(t,o),o)}function Yr(t,e){return!t||!zr(e)?!1:(e=e.slice(2).replace(/Once$/,""),fe(t,e[0].toLowerCase()+e.slice(1))||fe(t,Yt(e))||fe(t,e))}let at=null,ec=null;function Lr(t){const e=at;return at=t,ec=t&&t.type.__scopeId||null,e}function Nf(t,e=at,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&mo(-1);const i=Lr(e);let o;try{o=t(...s)}finally{Lr(i),r._d&&mo(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function cs(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:f,render:l,renderCache:u,data:d,setupState:g,ctx:T,inheritAttrs:O}=t;let V,B;const z=Lr(t);try{if(n.shapeFlag&4){const X=s||r,J=X;V=gt(l.call(J,X,u,i,g,d,T)),B=c}else{const X=e;V=gt(X.length>1?X(i,{attrs:c,slots:a,emit:f}):X(i,null)),B=e.props?c:jf(c)}}catch(X){$n.length=0,Jr(X,t,1),V=Te(Wt)}let L=V;if(B&&O!==!1){const X=Object.keys(B),{shapeFlag:J}=L;X.length&&J&7&&(o&&X.some(ui)&&(B=Ff(B,o)),L=bn(L,B))}return n.dirs&&(L=bn(L),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&(L.transition=n.transition),V=L,Lr(z),V}const jf=t=>{let e;for(const n in t)(n==="class"||n==="style"||zr(n))&&((e||(e={}))[n]=t[n]);return e},Ff=(t,e)=>{const n={};for(const r in t)(!ui(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Vf(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?so(r,o,f):!!o;if(c&8){const l=e.dynamicProps;for(let u=0;u<l.length;u++){const d=l[u];if(o[d]!==r[d]&&!Yr(f,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?so(r,o,f):!0:!!o;return!1}function so(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Yr(n,i))return!0}return!1}function zf({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const tc="components";function Hf(t,e){return qf(tc,t,!0,e)||t}const Kf=Symbol.for("v-ndc");function qf(t,e,n=!0,r=!1){const s=at||Ne;if(s){const i=s.type;if(t===tc){const a=Fu(i,!1);if(a&&(a===e||a===vt(e)||a===qr(vt(e))))return i}const o=io(s[t]||i[t],e)||io(s.appContext[t],e);return!o&&r?i:o}}function io(t,e){return t&&(t[e]||t[vt(e)]||t[qr(vt(e))])}const Gf=t=>t.__isSuspense;function Wf(t,e){e&&e.pendingBranch?re(t)?e.effects.push(...t):e.effects.push(t):Bf(t)}const Jf=Symbol.for("v-scx"),Yf=()=>Tt(Jf),cr={};function gr(t,e,n){return nc(t,e,n)}function nc(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=be){if(e&&i){const N=e;e=(...ve)=>{N(...ve),J()}}const c=Ne,f=N=>r===!0?N:ln(N,r===!1?1:void 0);let l,u=!1,d=!1;if(Je(t)?(l=()=>t.value,u=Dr(t)):pn(t)?(l=()=>f(t),u=!0):re(t)?(d=!0,u=t.some(N=>pn(N)||Dr(N)),l=()=>t.map(N=>{if(Je(N))return N.value;if(pn(N))return f(N);if(se(N))return Ut(N,c,2)})):se(t)?e?l=()=>Ut(t,c,2):l=()=>(g&&g(),lt(t,c,3,[T])):l=tt,e&&r){const N=l;l=()=>ln(N())}let g,T=N=>{g=L.onStop=()=>{Ut(N,c,4),g=L.onStop=void 0}},O;if(es)if(T=tt,e?n&&lt(e,c,3,[l(),d?[]:void 0,T]):l(),s==="sync"){const N=Yf();O=N.__watcherHandles||(N.__watcherHandles=[])}else return tt;let V=d?new Array(t.length).fill(cr):cr;const B=()=>{if(!(!L.active||!L.dirty))if(e){const N=L.run();(r||u||(d?N.some((ve,me)=>$t(ve,V[me])):$t(N,V)))&&(g&&g(),lt(e,c,3,[N,V===cr?void 0:d&&V[0]===cr?[]:V,T]),V=N)}else L.run()};B.allowRecurse=!!e;let z;s==="sync"?z=B:s==="post"?z=()=>He(B,c&&c.suspense):(B.pre=!0,c&&(B.id=c.uid),z=()=>Ei(B));const L=new mi(l,tt,z),X=lf(),J=()=>{L.stop(),X&&hi(X.effects,L)};return e?n?B():V=L.run():s==="post"?He(L.run.bind(L),c&&c.suspense):L.run(),O&&O.push(J),J}function Xf(t,e,n){const r=this.proxy,s=Oe(t)?t.includes(".")?rc(r,t):()=>r[t]:t.bind(r,r);let i;se(e)?i=e:(i=e.handler,n=e);const o=er(this),a=nc(s,i.bind(r),n);return o(),a}function rc(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function ln(t,e,n=0,r){if(!xe(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),Je(t))ln(t.value,e,n,r);else if(re(t))for(let s=0;s<t.length;s++)ln(t[s],e,n,r);else if(Ca(t)||hn(t))t.forEach(s=>{ln(s,e,n,r)});else if(Ra(t))for(const s in t)ln(t[s],e,n,r);return t}function Nt(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Xt(),lt(c,n,8,[t.el,a,t,e]),Qt())}}/*! #__NO_SIDE_EFFECTS__ */function En(t,e){return se(t)?Le({name:t.name},e,{setup:t}):t}const yr=t=>!!t.type.__asyncLoader,sc=t=>t.type.__isKeepAlive;function Qf(t,e){ic(t,"a",e)}function Zf(t,e){ic(t,"da",e)}function ic(t,e,n=Ne){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Xr(e,r,n),n){let s=n.parent;for(;s&&s.parent;)sc(s.parent.vnode)&&eu(r,e,n,s),s=s.parent}}function eu(t,e,n,r){const s=Xr(e,t,r,!0);oc(()=>{hi(r[e],s)},n)}function Xr(t,e,n=Ne,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Xt();const a=er(n),c=lt(e,n,t,o);return a(),Qt(),c});return r?s.unshift(i):s.push(i),i}}const Pt=t=>(e,n=Ne)=>(!es||t==="sp")&&Xr(t,(...r)=>e(...r),n),tu=Pt("bm"),nu=Pt("m"),ru=Pt("bu"),su=Pt("u"),iu=Pt("bum"),oc=Pt("um"),ou=Pt("sp"),au=Pt("rtg"),cu=Pt("rtc");function lu(t,e=Ne){Xr("ec",t,e)}function fu(t,e,n,r){let s;const i=n&&n[r];if(re(t)||Oe(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(xe(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const f=o[a];s[a]=e(t[f],f,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const As=t=>t?xc(t)?Pi(t)||t.proxy:As(t.parent):null,Bn=Le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>As(t.parent),$root:t=>As(t.root),$emit:t=>t.emit,$options:t=>Ri(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ei(t.update)}),$nextTick:t=>t.n||(t.n=Ja.bind(t.proxy)),$watch:t=>Xf.bind(t)}),ls=(t,e)=>t!==be&&!t.__isScriptSetup&&fe(t,e),uu={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let f;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(ls(r,e))return o[e]=1,r[e];if(s!==be&&fe(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&fe(f,e))return o[e]=3,i[e];if(n!==be&&fe(n,e))return o[e]=4,n[e];ws&&(o[e]=0)}}const l=Bn[e];let u,d;if(l)return e==="$attrs"&&We(t,"get",e),l(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(n!==be&&fe(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,fe(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return ls(s,e)?(s[e]=n,!0):r!==be&&fe(r,e)?(r[e]=n,!0):fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==be&&fe(t,o)||ls(e,o)||(a=i[0])&&fe(a,o)||fe(r,o)||fe(Bn,o)||fe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:fe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oo(t){return re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ws=!0;function hu(t){const e=Ri(t),n=t.proxy,r=t.ctx;ws=!1,e.beforeCreate&&ao(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:f,created:l,beforeMount:u,mounted:d,beforeUpdate:g,updated:T,activated:O,deactivated:V,beforeDestroy:B,beforeUnmount:z,destroyed:L,unmounted:X,render:J,renderTracked:N,renderTriggered:ve,errorCaptured:me,serverPrefetch:Ye,expose:Ae,inheritAttrs:W,components:ie,directives:y,filters:A}=e;if(f&&du(f,r,null),o)for(const x in o){const M=o[x];se(M)&&(r[x]=M.bind(n))}if(s){const x=s.call(n,n);xe(x)&&(t.data=Wr(x))}if(ws=!0,i)for(const x in i){const M=i[x],q=se(M)?M.bind(n,n):se(M.get)?M.get.bind(n,n):tt,Z=!se(M)&&se(M.set)?M.set.bind(n):tt,ee=it({get:q,set:Z});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>ee.value,set:te=>ee.value=te})}if(a)for(const x in a)ac(a[x],r,n,x);if(c){const x=se(c)?c.call(n):c;Reflect.ownKeys(x).forEach(M=>{_r(M,x[M])})}l&&ao(l,t,"c");function v(x,M){re(M)?M.forEach(q=>x(q.bind(n))):M&&x(M.bind(n))}if(v(tu,u),v(nu,d),v(ru,g),v(su,T),v(Qf,O),v(Zf,V),v(lu,me),v(cu,N),v(au,ve),v(iu,z),v(oc,X),v(ou,Ye),re(Ae))if(Ae.length){const x=t.exposed||(t.exposed={});Ae.forEach(M=>{Object.defineProperty(x,M,{get:()=>n[M],set:q=>n[M]=q})})}else t.exposed||(t.exposed={});J&&t.render===tt&&(t.render=J),W!=null&&(t.inheritAttrs=W),ie&&(t.components=ie),y&&(t.directives=y)}function du(t,e,n=tt){re(t)&&(t=Is(t));for(const r in t){const s=t[r];let i;xe(s)?"default"in s?i=Tt(s.from||r,s.default,!0):i=Tt(s.from||r):i=Tt(s),Je(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ao(t,e,n){lt(re(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ac(t,e,n,r){const s=r.includes(".")?rc(n,r):()=>n[r];if(Oe(t)){const i=e[t];se(i)&&gr(s,i)}else if(se(t))gr(s,t.bind(n));else if(xe(t))if(re(t))t.forEach(i=>ac(i,e,n,r));else{const i=se(t.handler)?t.handler.bind(n):e[t.handler];se(i)&&gr(s,i,t)}}function Ri(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(f=>Br(c,f,o,!0)),Br(c,e,o)),xe(e)&&i.set(e,c),c}function Br(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Br(t,i,n,!0),s&&s.forEach(o=>Br(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=pu[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const pu={data:co,props:lo,emits:lo,methods:In,computed:In,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:In,directives:In,watch:gu,provide:co,inject:mu};function co(t,e){return e?t?function(){return Le(se(t)?t.call(this,this):t,se(e)?e.call(this,this):e)}:e:t}function mu(t,e){return In(Is(t),Is(e))}function Is(t){if(re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Fe(t,e){return t?[...new Set([].concat(t,e))]:e}function In(t,e){return t?Le(Object.create(null),t,e):e}function lo(t,e){return t?re(t)&&re(e)?[...new Set([...t,...e])]:Le(Object.create(null),oo(t),oo(e??{})):e}function gu(t,e){if(!t)return e;if(!e)return t;const n=Le(Object.create(null),t);for(const r in e)n[r]=Fe(t[r],e[r]);return n}function cc(){return{app:null,config:{isNativeTag:Gl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yu=0;function _u(t,e){return function(r,s=null){se(r)||(r=Le({},r)),s!=null&&!xe(s)&&(s=null);const i=cc(),o=new WeakSet;let a=!1;const c=i.app={_uid:yu++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:zu,get config(){return i.config},set config(f){},use(f,...l){return o.has(f)||(f&&se(f.install)?(o.add(f),f.install(c,...l)):se(f)&&(o.add(f),f(c,...l))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,l){return l?(i.components[f]=l,c):i.components[f]},directive(f,l){return l?(i.directives[f]=l,c):i.directives[f]},mount(f,l,u){if(!a){const d=Te(r,s);return d.appContext=i,u===!0?u="svg":u===!1&&(u=void 0),l&&e?e(d,f):t(d,f,u),a=!0,c._container=f,f.__vue_app__=c,Pi(d.component)||d.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,l){return i.provides[f]=l,c},runWithContext(f){const l=Un;Un=c;try{return f()}finally{Un=l}}};return c}}let Un=null;function _r(t,e){if(Ne){let n=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===n&&(n=Ne.provides=Object.create(r)),n[t]=e}}function Tt(t,e,n=!1){const r=Ne||at;if(r||Un){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Un._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&se(e)?e.call(r&&r.proxy):e}}function bu(t,e,n,r=!1){const s={},i={};Mr(i,Zr,1),t.propsDefaults=Object.create(null),lc(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Fa(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function xu(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=ue(s),[c]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let u=0;u<l.length;u++){let d=l[u];if(Yr(t.emitsOptions,d))continue;const g=e[d];if(c)if(fe(i,d))g!==i[d]&&(i[d]=g,f=!0);else{const T=vt(d);s[T]=Ms(c,a,T,g,t,!1)}else g!==i[d]&&(i[d]=g,f=!0)}}}else{lc(t,e,s,i)&&(f=!0);let l;for(const u in a)(!e||!fe(e,u)&&((l=Yt(u))===u||!fe(e,l)))&&(c?n&&(n[u]!==void 0||n[l]!==void 0)&&(s[u]=Ms(c,a,u,void 0,t,!0)):delete s[u]);if(i!==a)for(const u in i)(!e||!fe(e,u))&&(delete i[u],f=!0)}f&&kt(t,"set","$attrs")}function lc(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Ln(c))continue;const f=e[c];let l;s&&fe(s,l=vt(c))?!i||!i.includes(l)?n[l]=f:(a||(a={}))[l]=f:Yr(t.emitsOptions,c)||(!(c in r)||f!==r[c])&&(r[c]=f,o=!0)}if(i){const c=ue(n),f=a||be;for(let l=0;l<i.length;l++){const u=i[l];n[u]=Ms(s,c,u,f[u],t,!fe(f,u))}}return o}function Ms(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=fe(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&se(c)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const l=er(s);r=f[n]=c.call(null,e),l()}}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Yt(n))&&(r=!0))}return r}function fc(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!se(t)){const l=u=>{c=!0;const[d,g]=fc(u,e,!0);Le(o,d),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return xe(t)&&r.set(t,un),un;if(re(i))for(let l=0;l<i.length;l++){const u=vt(i[l]);fo(u)&&(o[u]=be)}else if(i)for(const l in i){const u=vt(l);if(fo(u)){const d=i[l],g=o[u]=re(d)||se(d)?{type:d}:Le({},d);if(g){const T=po(Boolean,g.type),O=po(String,g.type);g[0]=T>-1,g[1]=O<0||T<O,(T>-1||fe(g,"default"))&&a.push(u)}}}const f=[o,a];return xe(t)&&r.set(t,f),f}function fo(t){return t[0]!=="$"&&!Ln(t)}function uo(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ho(t,e){return uo(t)===uo(e)}function po(t,e){return re(e)?e.findIndex(n=>ho(n,t)):se(e)&&ho(e,t)?0:-1}const uc=t=>t[0]==="_"||t==="$stable",ki=t=>re(t)?t.map(gt):[gt(t)],vu=(t,e,n)=>{if(e._n)return e;const r=Nf((...s)=>ki(e(...s)),n);return r._c=!1,r},hc=(t,e,n)=>{const r=t._ctx;for(const s in t){if(uc(s))continue;const i=t[s];if(se(i))e[s]=vu(s,i,r);else if(i!=null){const o=ki(i);e[s]=()=>o}}},dc=(t,e)=>{const n=ki(e);t.slots.default=()=>n},Cu=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ue(e),Mr(e,"_",n)):hc(e,t.slots={})}else t.slots={},e&&dc(t,e);Mr(t.slots,Zr,1)},Su=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=be;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Le(s,e),!n&&a===1&&delete s._):(i=!e.$stable,hc(e,s)),o=e}else e&&(dc(t,e),o={default:1});if(i)for(const a in s)!uc(a)&&o[a]==null&&delete s[a]};function Ds(t,e,n,r,s=!1){if(re(t)){t.forEach((d,g)=>Ds(d,e&&(re(e)?e[g]:e),n,r,s));return}if(yr(r)&&!s)return;const i=r.shapeFlag&4?Pi(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,f=e&&e.r,l=a.refs===be?a.refs={}:a.refs,u=a.setupState;if(f!=null&&f!==c&&(Oe(f)?(l[f]=null,fe(u,f)&&(u[f]=null)):Je(f)&&(f.value=null)),se(c))Ut(c,a,12,[o,l]);else{const d=Oe(c),g=Je(c);if(d||g){const T=()=>{if(t.f){const O=d?fe(u,c)?u[c]:l[c]:c.value;s?re(O)&&hi(O,i):re(O)?O.includes(i)||O.push(i):d?(l[c]=[i],fe(u,c)&&(u[c]=l[c])):(c.value=[i],t.k&&(l[t.k]=c.value))}else d?(l[c]=o,fe(u,c)&&(u[c]=o)):g&&(c.value=o,t.k&&(l[t.k]=o))};o?(T.id=-1,He(T,n)):T()}}}const He=Wf;function Eu(t){return Ru(t)}function Ru(t,e){const n=ka();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:f,setElementText:l,parentNode:u,nextSibling:d,setScopeId:g=tt,insertStaticContent:T}=t,O=(h,p,b,k=null,S=null,I=null,$=void 0,w=null,D=!!p.dynamicChildren)=>{if(h===p)return;h&&!Pn(h,p)&&(k=R(h),te(h,S,I,!0),h=null),p.patchFlag===-2&&(D=!1,p.dynamicChildren=null);const{type:P,ref:F,shapeFlag:Q}=p;switch(P){case Qr:V(h,p,b,k);break;case Wt:B(h,p,b,k);break;case us:h==null&&z(p,b,k,$);break;case mt:ie(h,p,b,k,S,I,$,w,D);break;default:Q&1?J(h,p,b,k,S,I,$,w,D):Q&6?y(h,p,b,k,S,I,$,w,D):(Q&64||Q&128)&&P.process(h,p,b,k,S,I,$,w,D,G)}F!=null&&S&&Ds(F,h&&h.ref,I,p||h,!p)},V=(h,p,b,k)=>{if(h==null)r(p.el=a(p.children),b,k);else{const S=p.el=h.el;p.children!==h.children&&f(S,p.children)}},B=(h,p,b,k)=>{h==null?r(p.el=c(p.children||""),b,k):p.el=h.el},z=(h,p,b,k)=>{[h.el,h.anchor]=T(h.children,p,b,k,h.el,h.anchor)},L=({el:h,anchor:p},b,k)=>{let S;for(;h&&h!==p;)S=d(h),r(h,b,k),h=S;r(p,b,k)},X=({el:h,anchor:p})=>{let b;for(;h&&h!==p;)b=d(h),s(h),h=b;s(p)},J=(h,p,b,k,S,I,$,w,D)=>{p.type==="svg"?$="svg":p.type==="math"&&($="mathml"),h==null?N(p,b,k,S,I,$,w,D):Ye(h,p,S,I,$,w,D)},N=(h,p,b,k,S,I,$,w)=>{let D,P;const{props:F,shapeFlag:Q,transition:Y,dirs:ne}=h;if(D=h.el=o(h.type,I,F&&F.is,F),Q&8?l(D,h.children):Q&16&&me(h.children,D,null,k,S,fs(h,I),$,w),ne&&Nt(h,null,k,"created"),ve(D,h,h.scopeId,$,k),F){for(const pe in F)pe!=="value"&&!Ln(pe)&&i(D,pe,null,F[pe],I,h.children,k,S,Be);"value"in F&&i(D,"value",null,F.value,I),(P=F.onVnodeBeforeMount)&&ht(P,k,h)}ne&&Nt(h,null,k,"beforeMount");const oe=ku(S,Y);oe&&Y.beforeEnter(D),r(D,p,b),((P=F&&F.onVnodeMounted)||oe||ne)&&He(()=>{P&&ht(P,k,h),oe&&Y.enter(D),ne&&Nt(h,null,k,"mounted")},S)},ve=(h,p,b,k,S)=>{if(b&&g(h,b),k)for(let I=0;I<k.length;I++)g(h,k[I]);if(S){let I=S.subTree;if(p===I){const $=S.vnode;ve(h,$,$.scopeId,$.slotScopeIds,S.parent)}}},me=(h,p,b,k,S,I,$,w,D=0)=>{for(let P=D;P<h.length;P++){const F=h[P]=w?Mt(h[P]):gt(h[P]);O(null,F,p,b,k,S,I,$,w)}},Ye=(h,p,b,k,S,I,$)=>{const w=p.el=h.el;let{patchFlag:D,dynamicChildren:P,dirs:F}=p;D|=h.patchFlag&16;const Q=h.props||be,Y=p.props||be;let ne;if(b&&jt(b,!1),(ne=Y.onVnodeBeforeUpdate)&&ht(ne,b,p,h),F&&Nt(p,h,b,"beforeUpdate"),b&&jt(b,!0),P?Ae(h.dynamicChildren,P,w,b,k,fs(p,S),I):$||M(h,p,w,null,b,k,fs(p,S),I,!1),D>0){if(D&16)W(w,p,Q,Y,b,k,S);else if(D&2&&Q.class!==Y.class&&i(w,"class",null,Y.class,S),D&4&&i(w,"style",Q.style,Y.style,S),D&8){const oe=p.dynamicProps;for(let pe=0;pe<oe.length;pe++){const _e=oe[pe],we=Q[_e],nt=Y[_e];(nt!==we||_e==="value")&&i(w,_e,we,nt,S,h.children,b,k,Be)}}D&1&&h.children!==p.children&&l(w,p.children)}else!$&&P==null&&W(w,p,Q,Y,b,k,S);((ne=Y.onVnodeUpdated)||F)&&He(()=>{ne&&ht(ne,b,p,h),F&&Nt(p,h,b,"updated")},k)},Ae=(h,p,b,k,S,I,$)=>{for(let w=0;w<p.length;w++){const D=h[w],P=p[w],F=D.el&&(D.type===mt||!Pn(D,P)||D.shapeFlag&70)?u(D.el):b;O(D,P,F,null,k,S,I,$,!0)}},W=(h,p,b,k,S,I,$)=>{if(b!==k){if(b!==be)for(const w in b)!Ln(w)&&!(w in k)&&i(h,w,b[w],null,$,p.children,S,I,Be);for(const w in k){if(Ln(w))continue;const D=k[w],P=b[w];D!==P&&w!=="value"&&i(h,w,P,D,$,p.children,S,I,Be)}"value"in k&&i(h,"value",b.value,k.value,$)}},ie=(h,p,b,k,S,I,$,w,D)=>{const P=p.el=h?h.el:a(""),F=p.anchor=h?h.anchor:a("");let{patchFlag:Q,dynamicChildren:Y,slotScopeIds:ne}=p;ne&&(w=w?w.concat(ne):ne),h==null?(r(P,b,k),r(F,b,k),me(p.children||[],b,F,S,I,$,w,D)):Q>0&&Q&64&&Y&&h.dynamicChildren?(Ae(h.dynamicChildren,Y,b,S,I,$,w),(p.key!=null||S&&p===S.subTree)&&pc(h,p,!0)):M(h,p,b,F,S,I,$,w,D)},y=(h,p,b,k,S,I,$,w,D)=>{p.slotScopeIds=w,h==null?p.shapeFlag&512?S.ctx.activate(p,b,k,$,D):A(p,b,k,S,I,$,D):E(h,p,D)},A=(h,p,b,k,S,I,$)=>{const w=h.component=Bu(h,k,S);if(sc(h)&&(w.ctx.renderer=G),Uu(w),w.asyncDep){if(S&&S.registerDep(w,v),!h.el){const D=w.subTree=Te(Wt);B(null,D,p,b)}}else v(w,h,p,b,S,I,$)},E=(h,p,b)=>{const k=p.component=h.component;if(Vf(h,p,b))if(k.asyncDep&&!k.asyncResolved){x(k,p,b);return}else k.next=p,Lf(k.update),k.effect.dirty=!0,k.update();else p.el=h.el,k.vnode=p},v=(h,p,b,k,S,I,$)=>{const w=()=>{if(h.isMounted){let{next:F,bu:Q,u:Y,parent:ne,vnode:oe}=h;{const rn=mc(h);if(rn){F&&(F.el=oe.el,x(h,F,$)),rn.asyncDep.then(()=>{h.isUnmounted||w()});return}}let pe=F,_e;jt(h,!1),F?(F.el=oe.el,x(h,F,$)):F=oe,Q&&os(Q),(_e=F.props&&F.props.onVnodeBeforeUpdate)&&ht(_e,ne,F,oe),jt(h,!0);const we=cs(h),nt=h.subTree;h.subTree=we,O(nt,we,u(nt.el),R(nt),h,S,I),F.el=we.el,pe===null&&zf(h,we.el),Y&&He(Y,S),(_e=F.props&&F.props.onVnodeUpdated)&&He(()=>ht(_e,ne,F,oe),S)}else{let F;const{el:Q,props:Y}=p,{bm:ne,m:oe,parent:pe}=h,_e=yr(p);if(jt(h,!1),ne&&os(ne),!_e&&(F=Y&&Y.onVnodeBeforeMount)&&ht(F,pe,p),jt(h,!0),Q&&ye){const we=()=>{h.subTree=cs(h),ye(Q,h.subTree,h,S,null)};_e?p.type.__asyncLoader().then(()=>!h.isUnmounted&&we()):we()}else{const we=h.subTree=cs(h);O(null,we,b,k,h,S,I),p.el=we.el}if(oe&&He(oe,S),!_e&&(F=Y&&Y.onVnodeMounted)){const we=p;He(()=>ht(F,pe,we),S)}(p.shapeFlag&256||pe&&yr(pe.vnode)&&pe.vnode.shapeFlag&256)&&h.a&&He(h.a,S),h.isMounted=!0,p=b=k=null}},D=h.effect=new mi(w,tt,()=>Ei(P),h.scope),P=h.update=()=>{D.dirty&&D.run()};P.id=h.uid,jt(h,!0),P()},x=(h,p,b)=>{p.component=h;const k=h.vnode.props;h.vnode=p,h.next=null,xu(h,p.props,k,b),Su(h,p.children,b),Xt(),ro(h),Qt()},M=(h,p,b,k,S,I,$,w,D=!1)=>{const P=h&&h.children,F=h?h.shapeFlag:0,Q=p.children,{patchFlag:Y,shapeFlag:ne}=p;if(Y>0){if(Y&128){Z(P,Q,b,k,S,I,$,w,D);return}else if(Y&256){q(P,Q,b,k,S,I,$,w,D);return}}ne&8?(F&16&&Be(P,S,I),Q!==P&&l(b,Q)):F&16?ne&16?Z(P,Q,b,k,S,I,$,w,D):Be(P,S,I,!0):(F&8&&l(b,""),ne&16&&me(Q,b,k,S,I,$,w,D))},q=(h,p,b,k,S,I,$,w,D)=>{h=h||un,p=p||un;const P=h.length,F=p.length,Q=Math.min(P,F);let Y;for(Y=0;Y<Q;Y++){const ne=p[Y]=D?Mt(p[Y]):gt(p[Y]);O(h[Y],ne,b,null,S,I,$,w,D)}P>F?Be(h,S,I,!0,!1,Q):me(p,b,k,S,I,$,w,D,Q)},Z=(h,p,b,k,S,I,$,w,D)=>{let P=0;const F=p.length;let Q=h.length-1,Y=F-1;for(;P<=Q&&P<=Y;){const ne=h[P],oe=p[P]=D?Mt(p[P]):gt(p[P]);if(Pn(ne,oe))O(ne,oe,b,null,S,I,$,w,D);else break;P++}for(;P<=Q&&P<=Y;){const ne=h[Q],oe=p[Y]=D?Mt(p[Y]):gt(p[Y]);if(Pn(ne,oe))O(ne,oe,b,null,S,I,$,w,D);else break;Q--,Y--}if(P>Q){if(P<=Y){const ne=Y+1,oe=ne<F?p[ne].el:k;for(;P<=Y;)O(null,p[P]=D?Mt(p[P]):gt(p[P]),b,oe,S,I,$,w,D),P++}}else if(P>Y)for(;P<=Q;)te(h[P],S,I,!0),P++;else{const ne=P,oe=P,pe=new Map;for(P=oe;P<=Y;P++){const Xe=p[P]=D?Mt(p[P]):gt(p[P]);Xe.key!=null&&pe.set(Xe.key,P)}let _e,we=0;const nt=Y-oe+1;let rn=!1,qi=0;const kn=new Array(nt);for(P=0;P<nt;P++)kn[P]=0;for(P=ne;P<=Q;P++){const Xe=h[P];if(we>=nt){te(Xe,S,I,!0);continue}let ut;if(Xe.key!=null)ut=pe.get(Xe.key);else for(_e=oe;_e<=Y;_e++)if(kn[_e-oe]===0&&Pn(Xe,p[_e])){ut=_e;break}ut===void 0?te(Xe,S,I,!0):(kn[ut-oe]=P+1,ut>=qi?qi=ut:rn=!0,O(Xe,p[ut],b,null,S,I,$,w,D),we++)}const Gi=rn?Tu(kn):un;for(_e=Gi.length-1,P=nt-1;P>=0;P--){const Xe=oe+P,ut=p[Xe],Wi=Xe+1<F?p[Xe+1].el:k;kn[P]===0?O(null,ut,b,Wi,S,I,$,w,D):rn&&(_e<0||P!==Gi[_e]?ee(ut,b,Wi,2):_e--)}}},ee=(h,p,b,k,S=null)=>{const{el:I,type:$,transition:w,children:D,shapeFlag:P}=h;if(P&6){ee(h.component.subTree,p,b,k);return}if(P&128){h.suspense.move(p,b,k);return}if(P&64){$.move(h,p,b,G);return}if($===mt){r(I,p,b);for(let Q=0;Q<D.length;Q++)ee(D[Q],p,b,k);r(h.anchor,p,b);return}if($===us){L(h,p,b);return}if(k!==2&&P&1&&w)if(k===0)w.beforeEnter(I),r(I,p,b),He(()=>w.enter(I),S);else{const{leave:Q,delayLeave:Y,afterLeave:ne}=w,oe=()=>r(I,p,b),pe=()=>{Q(I,()=>{oe(),ne&&ne()})};Y?Y(I,oe,pe):pe()}else r(I,p,b)},te=(h,p,b,k=!1,S=!1)=>{const{type:I,props:$,ref:w,children:D,dynamicChildren:P,shapeFlag:F,patchFlag:Q,dirs:Y}=h;if(w!=null&&Ds(w,null,b,h,!0),F&256){p.ctx.deactivate(h);return}const ne=F&1&&Y,oe=!yr(h);let pe;if(oe&&(pe=$&&$.onVnodeBeforeUnmount)&&ht(pe,p,h),F&6)nr(h.component,b,k);else{if(F&128){h.suspense.unmount(b,k);return}ne&&Nt(h,null,p,"beforeUnmount"),F&64?h.type.remove(h,p,b,S,G,k):P&&(I!==mt||Q>0&&Q&64)?Be(P,p,b,!1,!0):(I===mt&&Q&384||!S&&F&16)&&Be(D,p,b),k&&St(h)}(oe&&(pe=$&&$.onVnodeUnmounted)||ne)&&He(()=>{pe&&ht(pe,p,h),ne&&Nt(h,null,p,"unmounted")},b)},St=h=>{const{type:p,el:b,anchor:k,transition:S}=h;if(p===mt){nn(b,k);return}if(p===us){X(h);return}const I=()=>{s(b),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(h.shapeFlag&1&&S&&!S.persisted){const{leave:$,delayLeave:w}=S,D=()=>$(b,I);w?w(h.el,I,D):D()}else I()},nn=(h,p)=>{let b;for(;h!==p;)b=d(h),s(h),h=b;s(p)},nr=(h,p,b)=>{const{bum:k,scope:S,update:I,subTree:$,um:w}=h;k&&os(k),S.stop(),I&&(I.active=!1,te($,h,p,b)),w&&He(w,p),He(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Be=(h,p,b,k=!1,S=!1,I=0)=>{for(let $=I;$<h.length;$++)te(h[$],p,b,k,S)},R=h=>h.shapeFlag&6?R(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let j=!1;const U=(h,p,b)=>{h==null?p._vnode&&te(p._vnode,null,null,!0):O(p._vnode||null,h,p,null,null,null,b),j||(j=!0,ro(),Xa(),j=!1),p._vnode=h},G={p:O,um:te,m:ee,r:St,mt:A,mc:me,pc:M,pbc:Ae,n:R,o:t};let he,ye;return e&&([he,ye]=e(G)),{render:U,hydrate:he,createApp:_u(U,he)}}function fs({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function jt({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ku(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function pc(t,e,n=!1){const r=t.children,s=e.children;if(re(r)&&re(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Mt(s[i]),a.el=o.el),n||pc(o,a)),a.type===Qr&&(a.el=o.el)}}function Tu(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<f?i=a+1:o=a;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function mc(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mc(e)}const Pu=t=>t.__isTeleport,mt=Symbol.for("v-fgt"),Qr=Symbol.for("v-txt"),Wt=Symbol.for("v-cmt"),us=Symbol.for("v-stc"),$n=[];let ct=null;function $e(t=!1){$n.push(ct=t?null:[])}function Ou(){$n.pop(),ct=$n[$n.length-1]||null}let qn=1;function mo(t){qn+=t}function gc(t){return t.dynamicChildren=qn>0?ct||un:null,Ou(),qn>0&&ct&&ct.push(t),t}function qe(t,e,n,r,s,i){return gc(De(t,e,n,r,s,i,!0))}function yc(t,e,n,r,s){return gc(Te(t,e,n,r,s,!0))}function Ls(t){return t?t.__v_isVNode===!0:!1}function Pn(t,e){return t.type===e.type&&t.key===e.key}const Zr="__vInternal",_c=({key:t})=>t??null,br=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Oe(t)||Je(t)||se(t)?{i:at,r:t,k:e,f:!!n}:t:null);function De(t,e=null,n=null,r=0,s=null,i=t===mt?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_c(e),ref:e&&br(e),scopeId:ec,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:at};return a?(Ti(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Oe(n)?8:16),qn>0&&!o&&ct&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ct.push(c),c}const Te=Au;function Au(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Kf)&&(t=Wt),Ls(t)){const a=bn(t,e,!0);return n&&Ti(a,n),qn>0&&!i&&ct&&(a.shapeFlag&6?ct[ct.indexOf(t)]=a:ct.push(a)),a.patchFlag|=-2,a}if(Vu(t)&&(t=t.__vccOpts),e){e=wu(e);let{class:a,style:c}=e;a&&!Oe(a)&&(e.class=dn(a)),xe(c)&&(za(c)&&!re(c)&&(c=Le({},c)),e.style=pi(c))}const o=Oe(t)?1:Gf(t)?128:Pu(t)?64:xe(t)?4:se(t)?2:0;return De(t,e,n,r,s,o,i,!0)}function wu(t){return t?za(t)||Zr in t?Le({},t):t:null}function bn(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Mu(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&_c(a),ref:e&&e.ref?n&&s?re(s)?s.concat(br(e)):[s,br(e)]:br(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==mt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bn(t.ssContent),ssFallback:t.ssFallback&&bn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Iu(t=" ",e=0){return Te(Qr,null,t,e)}function bc(t="",e=!1){return e?($e(),yc(Wt,null,t)):Te(Wt,null,t)}function gt(t){return t==null||typeof t=="boolean"?Te(Wt):re(t)?Te(mt,null,t.slice()):typeof t=="object"?Mt(t):Te(Qr,null,String(t))}function Mt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bn(t)}function Ti(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(re(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Ti(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Zr in e)?e._ctx=at:s===3&&at&&(at.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else se(e)?(e={default:e,_ctx:at},n=32):(e=String(e),r&64?(n=16,e=[Iu(e)]):n=8);t.children=e,t.shapeFlag|=n}function Mu(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=dn([e.class,r.class]));else if(s==="style")e.style=pi([e.style,r.style]);else if(zr(s)){const i=e[s],o=r[s];o&&i!==o&&!(re(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function ht(t,e,n,r=null){lt(t,e,7,[n,r])}const Du=cc();let Lu=0;function Bu(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Du,i={uid:Lu++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Oa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fc(r,s),emitsOptions:Za(r,s),emit:null,emitted:null,propsDefaults:be,inheritAttrs:r.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=$f.bind(null,i),t.ce&&t.ce(i),i}let Ne=null,Ur,Bs;{const t=ka(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ur=e("__VUE_INSTANCE_SETTERS__",n=>Ne=n),Bs=e("__VUE_SSR_SETTERS__",n=>es=n)}const er=t=>{const e=Ne;return Ur(t),t.scope.on(),()=>{t.scope.off(),Ur(e)}},go=()=>{Ne&&Ne.scope.off(),Ur(null)};function xc(t){return t.vnode.shapeFlag&4}let es=!1;function Uu(t,e=!1){e&&Bs(e);const{props:n,children:r}=t.vnode,s=xc(t);bu(t,n,s,e),Cu(t,r);const i=s?$u(t,e):void 0;return e&&Bs(!1),i}function $u(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=vi(new Proxy(t.ctx,uu));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?ju(t):null,i=er(t);Xt();const o=Ut(r,t,0,[t.props,s]);if(Qt(),i(),Sa(o)){if(o.then(go,go),e)return o.then(a=>{yo(t,a,e)}).catch(a=>{Jr(a,t,0)});t.asyncDep=o}else yo(t,o,e)}else vc(t,e)}function yo(t,e,n){se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:xe(e)&&(t.setupState=Ga(e)),vc(t,n)}let _o;function vc(t,e,n){const r=t.type;if(!t.render){if(!e&&_o&&!r.render){const s=r.template||Ri(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,f=Le(Le({isCustomElement:i,delimiters:a},o),c);r.render=_o(s,f)}}t.render=r.render||tt}{const s=er(t);Xt();try{hu(t)}finally{Qt(),s()}}}function Nu(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return We(t,"get","$attrs"),e[n]}}))}function ju(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Nu(t)},slots:t.slots,emit:t.emit,expose:e}}function Pi(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ga(vi(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bn)return Bn[n](t)},has(e,n){return n in e||n in Bn}}))}function Fu(t,e=!0){return se(t)?t.displayName||t.name:t.name||e&&t.__name}function Vu(t){return se(t)&&"__vccOpts"in t}const it=(t,e)=>Of(t,e,es);function Cc(t,e,n){const r=arguments.length;return r===2?xe(e)&&!re(e)?Ls(e)?Te(t,null,[e]):Te(t,e):Te(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ls(n)&&(n=[n]),Te(t,e,n))}const zu="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hu="http://www.w3.org/2000/svg",Ku="http://www.w3.org/1998/Math/MathML",Dt=typeof document<"u"?document:null,bo=Dt&&Dt.createElement("template"),qu={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Dt.createElementNS(Hu,t):e==="mathml"?Dt.createElementNS(Ku,t):Dt.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Dt.createTextNode(t),createComment:t=>Dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{bo.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=bo.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Gu=Symbol("_vtc");function Wu(t,e,n){const r=t[Gu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const xo=Symbol("_vod"),Ju=Symbol("_vsh"),Yu=Symbol(""),Xu=/(^|;)\s*display\s*:/;function Qu(t,e,n){const r=t.style,s=Oe(n);let i=!1;if(n&&!s){if(e)if(Oe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&xr(r,a,"")}else for(const o in e)n[o]==null&&xr(r,o,"");for(const o in n)o==="display"&&(i=!0),xr(r,o,n[o])}else if(s){if(e!==n){const o=r[Yu];o&&(n+=";"+o),r.cssText=n,i=Xu.test(n)}}else e&&t.removeAttribute("style");xo in t&&(t[xo]=i?r.display:"",t[Ju]&&(r.display="none"))}const vo=/\s*!important$/;function xr(t,e,n){if(re(n))n.forEach(r=>xr(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Zu(t,e);vo.test(n)?t.setProperty(Yt(r),n.replace(vo,""),"important"):t[r]=n}}const Co=["Webkit","Moz","ms"],hs={};function Zu(t,e){const n=hs[e];if(n)return n;let r=vt(e);if(r!=="filter"&&r in t)return hs[e]=r;r=qr(r);for(let s=0;s<Co.length;s++){const i=Co[s]+r;if(i in t)return hs[e]=i}return e}const So="http://www.w3.org/1999/xlink";function eh(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(So,e.slice(6,e.length)):t.setAttributeNS(So,e,n);else{const i=sf(e);n==null||i&&!Ta(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function th(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const f=a==="OPTION"?t.getAttribute("value")||"":t.value,l=n??"";(f!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let c=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=Ta(n):n==null&&f==="string"?(n="",c=!0):f==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function nh(t,e,n,r){t.addEventListener(e,n,r)}function rh(t,e,n,r){t.removeEventListener(e,n,r)}const Eo=Symbol("_vei");function sh(t,e,n,r,s=null){const i=t[Eo]||(t[Eo]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=ih(e);if(r){const f=i[e]=ch(r,s);nh(t,a,f,c)}else o&&(rh(t,a,o,c),i[e]=void 0)}}const Ro=/(?:Once|Passive|Capture)$/;function ih(t){let e;if(Ro.test(t)){e={};let r;for(;r=t.match(Ro);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let ds=0;const oh=Promise.resolve(),ah=()=>ds||(oh.then(()=>ds=0),ds=Date.now());function ch(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;lt(lh(r,n.value),e,5,[r])};return n.value=t,n.attached=ah(),n}function lh(t,e){if(re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const ko=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,fh=(t,e,n,r,s,i,o,a,c)=>{const f=s==="svg";e==="class"?Wu(t,r,f):e==="style"?Qu(t,n,r):zr(e)?ui(e)||sh(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uh(t,e,r,f))?th(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),eh(t,e,r,f))};function uh(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ko(e)&&se(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ko(e)&&Oe(n)?!1:e in t}const hh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Yt(s.key);if(e.some(o=>o===i||hh[o]===i))return t(s)})},ph=Le({patchProp:fh},qu);let To;function mh(){return To||(To=Eu(ph))}const gh=(...t)=>{const e=mh().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=_h(r);if(!s)return;const i=e._component;!se(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,yh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function yh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _h(t){return Oe(t)?document.querySelector(t):t}var bh=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const xh=Symbol();var Po;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Po||(Po={}));function vh(){const t=af(!0),e=t.run(()=>Vt({}));let n=[],r=[];const s=vi({install(i){s._a=i,i.provide(xh,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!bh?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ts=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Ch={},Sh={class:"border py-1.5 px-4"},Eh=De("span",{class:"font-extrabold"},"RANDOMMY",-1),Rh=[Eh];function kh(t,e){return $e(),qe("header",Sh,Rh)}const Th=ts(Ch,[["render",kh]]),Ph={},Oh={class:"border hidden lg:block"};function Ah(t,e){return $e(),qe("footer",Oh,"footer")}const wh=ts(Ph,[["render",Ah]]),Ih={class:"flex flex-col | h-[100svh]"},Mh={class:"h-full | overflow-hidden"},Dh=En({__name:"App",setup(t){return(e,n)=>{const r=Hf("RouterView");return $e(),qe("div",Ih,[Te(Th),De("main",Mh,[Te(r)]),Te(wh)])}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const an=typeof document<"u";function Lh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const de=Object.assign;function ps(t,e){const n={};for(const r in e){const s=e[r];n[r]=ft(s)?s.map(t):t(s)}return n}const Nn=()=>{},ft=Array.isArray,Sc=/#/g,Bh=/&/g,Uh=/\//g,$h=/=/g,Nh=/\?/g,Ec=/\+/g,jh=/%5B/g,Fh=/%5D/g,Rc=/%5E/g,Vh=/%60/g,kc=/%7B/g,zh=/%7C/g,Tc=/%7D/g,Hh=/%20/g;function Oi(t){return encodeURI(""+t).replace(zh,"|").replace(jh,"[").replace(Fh,"]")}function Kh(t){return Oi(t).replace(kc,"{").replace(Tc,"}").replace(Rc,"^")}function Us(t){return Oi(t).replace(Ec,"%2B").replace(Hh,"+").replace(Sc,"%23").replace(Bh,"%26").replace(Vh,"`").replace(kc,"{").replace(Tc,"}").replace(Rc,"^")}function qh(t){return Us(t).replace($h,"%3D")}function Gh(t){return Oi(t).replace(Sc,"%23").replace(Nh,"%3F")}function Wh(t){return t==null?"":Gh(t).replace(Uh,"%2F")}function Gn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Jh=/\/$/,Yh=t=>t.replace(Jh,"");function ms(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=ed(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Gn(o)}}function Xh(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Oo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Qh(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&xn(e.matched[r],n.matched[s])&&Pc(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function xn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Pc(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Zh(t[n],e[n]))return!1;return!0}function Zh(t,e){return ft(t)?Ao(t,e):ft(e)?Ao(e,t):t===e}function Ao(t,e){return ft(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function ed(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}var Wn;(function(t){t.pop="pop",t.push="push"})(Wn||(Wn={}));var jn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(jn||(jn={}));function td(t){if(!t)if(an){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Yh(t)}const nd=/^[^#]+#/;function rd(t,e){return t.replace(nd,"#")+e}function sd(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ns=()=>({left:window.scrollX,top:window.scrollY});function id(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=sd(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function wo(t,e){return(history.state?history.state.position-e:-1)+t}const $s=new Map;function od(t,e){$s.set(t,e)}function ad(t){const e=$s.get(t);return $s.delete(t),e}let cd=()=>location.protocol+"//"+location.host;function Oc(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Oo(c,"")}return Oo(n,t)+r+s}function ld(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const g=Oc(t,location),T=n.value,O=e.value;let V=0;if(d){if(n.value=g,e.value=d,o&&o===T){o=null;return}V=O?d.position-O.position:0}else r(g);s.forEach(B=>{B(n.value,T,{delta:V,type:Wn.pop,direction:V?V>0?jn.forward:jn.back:jn.unknown})})};function c(){o=n.value}function f(d){s.push(d);const g=()=>{const T=s.indexOf(d);T>-1&&s.splice(T,1)};return i.push(g),g}function l(){const{history:d}=window;d.state&&d.replaceState(de({},d.state,{scroll:ns()}),"")}function u(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function Io(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ns():null}}function fd(t){const{history:e,location:n}=window,r={value:Oc(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,f,l){const u=t.indexOf("#"),d=u>-1?(n.host&&document.querySelector("base")?t:t.slice(u))+c:cd()+t+c;try{e[l?"replaceState":"pushState"](f,"",d),s.value=f}catch(g){console.error(g),n[l?"replace":"assign"](d)}}function o(c,f){const l=de({},e.state,Io(s.value.back,c,s.value.forward,!0),f,{position:s.value.position});i(c,l,!0),r.value=c}function a(c,f){const l=de({},s.value,e.state,{forward:c,scroll:ns()});i(l.current,l,!0);const u=de({},Io(r.value,c,null),{position:l.position+1},f);i(c,u,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function ud(t){t=td(t);const e=fd(t),n=ld(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=de({location:"",base:t,go:r,createHref:rd.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function hd(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),ud(t)}function dd(t){return typeof t=="string"||t&&typeof t=="object"}function Ac(t){return typeof t=="string"||typeof t=="symbol"}const At={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wc=Symbol("");var Mo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Mo||(Mo={}));function vn(t,e){return de(new Error,{type:t,[wc]:!0},e)}function Et(t,e){return t instanceof Error&&wc in t&&(e==null||!!(t.type&e))}const Do="[^/]+?",pd={sensitive:!1,strict:!1,start:!0,end:!0},md=/[.+*?^${}()[\]/\\]/g;function gd(t,e){const n=de({},pd,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const l=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let u=0;u<f.length;u++){const d=f[u];let g=40+(n.sensitive?.25:0);if(d.type===0)u||(s+="/"),s+=d.value.replace(md,"\\$&"),g+=40;else if(d.type===1){const{value:T,repeatable:O,optional:V,regexp:B}=d;i.push({name:T,repeatable:O,optional:V});const z=B||Do;if(z!==Do){g+=10;try{new RegExp(`(${z})`)}catch(X){throw new Error(`Invalid custom RegExp for param "${T}" (${z}): `+X.message)}}let L=O?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;u||(L=V&&f.length<2?`(?:/${L})`:"/"+L),V&&(L+="?"),s+=L,g+=20,V&&(g+=-8),O&&(g+=-20),z===".*"&&(g+=-50)}l.push(g)}r.push(l)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(f){const l=f.match(o),u={};if(!l)return null;for(let d=1;d<l.length;d++){const g=l[d]||"",T=i[d-1];u[T.name]=g&&T.repeatable?g.split("/"):g}return u}function c(f){let l="",u=!1;for(const d of t){(!u||!l.endsWith("/"))&&(l+="/"),u=!1;for(const g of d)if(g.type===0)l+=g.value;else if(g.type===1){const{value:T,repeatable:O,optional:V}=g,B=T in f?f[T]:"";if(ft(B)&&!O)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const z=ft(B)?B.join("/"):B;if(!z)if(V)d.length<2&&(l.endsWith("/")?l=l.slice(0,-1):u=!0);else throw new Error(`Missing required param "${T}"`);l+=z}}return l||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function yd(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function _d(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=yd(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Lo(r))return 1;if(Lo(s))return-1}return s.length-r.length}function Lo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const bd={type:0,value:""},xd=/[a-zA-Z0-9_]/;function vd(t){if(!t)return[[]];if(t==="/")return[[bd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${f}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,f="",l="";function u(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),f="")}function d(){f+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(f&&u(),o()):c===":"?(u(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:xd.test(c)?d():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),u(),o(),s}function Cd(t,e,n){const r=gd(vd(t.path),n),s=de(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Sd(t,e){const n=[],r=new Map;e=$o({strict:!1,end:!0,sensitive:!1},e);function s(l){return r.get(l)}function i(l,u,d){const g=!d,T=Ed(l);T.aliasOf=d&&d.record;const O=$o(e,l),V=[T];if("alias"in l){const L=typeof l.alias=="string"?[l.alias]:l.alias;for(const X of L)V.push(de({},T,{components:d?d.record.components:T.components,path:X,aliasOf:d?d.record:T}))}let B,z;for(const L of V){const{path:X}=L;if(u&&X[0]!=="/"){const J=u.record.path,N=J[J.length-1]==="/"?"":"/";L.path=u.record.path+(X&&N+X)}if(B=Cd(L,u,O),d?d.alias.push(B):(z=z||B,z!==B&&z.alias.push(B),g&&l.name&&!Uo(B)&&o(l.name)),T.children){const J=T.children;for(let N=0;N<J.length;N++)i(J[N],B,d&&d.children[N])}d=d||B,(B.record.components&&Object.keys(B.record.components).length||B.record.name||B.record.redirect)&&c(B)}return z?()=>{o(z)}:Nn}function o(l){if(Ac(l)){const u=r.get(l);u&&(r.delete(l),n.splice(n.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=n.indexOf(l);u>-1&&(n.splice(u,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let u=0;for(;u<n.length&&_d(l,n[u])>=0&&(l.record.path!==n[u].record.path||!Ic(l,n[u]));)u++;n.splice(u,0,l),l.record.name&&!Uo(l)&&r.set(l.record.name,l)}function f(l,u){let d,g={},T,O;if("name"in l&&l.name){if(d=r.get(l.name),!d)throw vn(1,{location:l});O=d.record.name,g=de(Bo(u.params,d.keys.filter(z=>!z.optional).concat(d.parent?d.parent.keys.filter(z=>z.optional):[]).map(z=>z.name)),l.params&&Bo(l.params,d.keys.map(z=>z.name))),T=d.stringify(g)}else if(l.path!=null)T=l.path,d=n.find(z=>z.re.test(T)),d&&(g=d.parse(T),O=d.record.name);else{if(d=u.name?r.get(u.name):n.find(z=>z.re.test(u.path)),!d)throw vn(1,{location:l,currentLocation:u});O=d.record.name,g=de({},u.params,l.params),T=d.stringify(g)}const V=[];let B=d;for(;B;)V.unshift(B.record),B=B.parent;return{name:O,path:T,params:g,matched:V,meta:kd(V)}}return t.forEach(l=>i(l)),{addRoute:i,resolve:f,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Bo(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Ed(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Rd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Rd(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Uo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function kd(t){return t.reduce((e,n)=>de(e,n.meta),{})}function $o(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Ic(t,e){return e.children.some(n=>n===t||Ic(t,n))}function Td(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Ec," "),o=i.indexOf("="),a=Gn(o<0?i:i.slice(0,o)),c=o<0?null:Gn(i.slice(o+1));if(a in e){let f=e[a];ft(f)||(f=e[a]=[f]),f.push(c)}else e[a]=c}return e}function No(t){let e="";for(let n in t){const r=t[n];if(n=qh(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ft(r)?r.map(i=>i&&Us(i)):[r&&Us(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function Pd(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ft(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Od=Symbol(""),jo=Symbol(""),Ai=Symbol(""),Mc=Symbol(""),Ns=Symbol("");function On(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Lt(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const f=d=>{d===!1?c(vn(4,{from:n,to:e})):d instanceof Error?c(d):dd(d)?c(vn(2,{from:e,to:d})):(o&&r.enterCallbacks[s]===o&&typeof d=="function"&&o.push(d),a())},l=i(()=>t.call(r&&r.instances[s],e,n,f));let u=Promise.resolve(l);t.length<3&&(u=u.then(f)),u.catch(d=>c(d))})}function gs(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ad(c)){const l=(c.__vccOpts||c)[e];l&&i.push(Lt(l,n,r,o,a,s))}else{let f=c();i.push(()=>f.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const u=Lh(l)?l.default:l;o.components[a]=u;const g=(u.__vccOpts||u)[e];return g&&Lt(g,n,r,o,a,s)()}))}}return i}function Ad(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Fo(t){const e=Tt(Ai),n=Tt(Mc),r=it(()=>e.resolve(mn(t.to))),s=it(()=>{const{matched:c}=r.value,{length:f}=c,l=c[f-1],u=n.matched;if(!l||!u.length)return-1;const d=u.findIndex(xn.bind(null,l));if(d>-1)return d;const g=Vo(c[f-2]);return f>1&&Vo(l)===g&&u[u.length-1].path!==g?u.findIndex(xn.bind(null,c[f-2])):d}),i=it(()=>s.value>-1&&Dd(n.params,r.value.params)),o=it(()=>s.value>-1&&s.value===n.matched.length-1&&Pc(n.params,r.value.params));function a(c={}){return Md(c)?e[mn(t.replace)?"replace":"push"](mn(t.to)).catch(Nn):Promise.resolve()}return{route:r,href:it(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const wd=En({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Fo,setup(t,{slots:e}){const n=Wr(Fo(t)),{options:r}=Tt(Ai),s=it(()=>({[zo(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[zo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Cc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Id=wd;function Md(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Dd(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ft(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Vo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zo=(t,e,n)=>t??e??n,Ld=En({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Tt(Ns),s=it(()=>t.route||r.value),i=Tt(jo,0),o=it(()=>{let f=mn(i);const{matched:l}=s.value;let u;for(;(u=l[f])&&!u.components;)f++;return f}),a=it(()=>s.value.matched[o.value]);_r(jo,it(()=>o.value+1)),_r(Od,a),_r(Ns,s);const c=Vt();return gr(()=>[c.value,a.value,t.name],([f,l,u],[d,g,T])=>{l&&(l.instances[u]=f,g&&g!==l&&f&&f===d&&(l.leaveGuards.size||(l.leaveGuards=g.leaveGuards),l.updateGuards.size||(l.updateGuards=g.updateGuards))),f&&l&&(!g||!xn(l,g)||!d)&&(l.enterCallbacks[u]||[]).forEach(O=>O(f))},{flush:"post"}),()=>{const f=s.value,l=t.name,u=a.value,d=u&&u.components[l];if(!d)return Ho(n.default,{Component:d,route:f});const g=u.props[l],T=g?g===!0?f.params:typeof g=="function"?g(f):g:null,V=Cc(d,de({},T,e,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(u.instances[l]=null)},ref:c}));return Ho(n.default,{Component:V,route:f})||V}}});function Ho(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Bd=Ld;function Ud(t){const e=Sd(t.routes,t),n=t.parseQuery||Td,r=t.stringifyQuery||No,s=t.history,i=On(),o=On(),a=On(),c=Af(At);let f=At;an&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=ps.bind(null,R=>""+R),u=ps.bind(null,Wh),d=ps.bind(null,Gn);function g(R,j){let U,G;return Ac(R)?(U=e.getRecordMatcher(R),G=j):G=R,e.addRoute(G,U)}function T(R){const j=e.getRecordMatcher(R);j&&e.removeRoute(j)}function O(){return e.getRoutes().map(R=>R.record)}function V(R){return!!e.getRecordMatcher(R)}function B(R,j){if(j=de({},j||c.value),typeof R=="string"){const p=ms(n,R,j.path),b=e.resolve({path:p.path},j),k=s.createHref(p.fullPath);return de(p,b,{params:d(b.params),hash:Gn(p.hash),redirectedFrom:void 0,href:k})}let U;if(R.path!=null)U=de({},R,{path:ms(n,R.path,j.path).path});else{const p=de({},R.params);for(const b in p)p[b]==null&&delete p[b];U=de({},R,{params:u(p)}),j.params=u(j.params)}const G=e.resolve(U,j),he=R.hash||"";G.params=l(d(G.params));const ye=Xh(r,de({},R,{hash:Kh(he),path:G.path})),h=s.createHref(ye);return de({fullPath:ye,hash:he,query:r===No?Pd(R.query):R.query||{}},G,{redirectedFrom:void 0,href:h})}function z(R){return typeof R=="string"?ms(n,R,c.value.path):de({},R)}function L(R,j){if(f!==R)return vn(8,{from:j,to:R})}function X(R){return ve(R)}function J(R){return X(de(z(R),{replace:!0}))}function N(R){const j=R.matched[R.matched.length-1];if(j&&j.redirect){const{redirect:U}=j;let G=typeof U=="function"?U(R):U;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=z(G):{path:G},G.params={}),de({query:R.query,hash:R.hash,params:G.path!=null?{}:R.params},G)}}function ve(R,j){const U=f=B(R),G=c.value,he=R.state,ye=R.force,h=R.replace===!0,p=N(U);if(p)return ve(de(z(p),{state:typeof p=="object"?de({},he,p.state):he,force:ye,replace:h}),j||U);const b=U;b.redirectedFrom=j;let k;return!ye&&Qh(r,G,U)&&(k=vn(16,{to:b,from:G}),ee(G,G,!0,!1)),(k?Promise.resolve(k):Ae(b,G)).catch(S=>Et(S)?Et(S,2)?S:Z(S):M(S,b,G)).then(S=>{if(S){if(Et(S,2))return ve(de({replace:h},z(S.to),{state:typeof S.to=="object"?de({},he,S.to.state):he,force:ye}),j||b)}else S=ie(b,G,!0,h,he);return W(b,G,S),S})}function me(R,j){const U=L(R,j);return U?Promise.reject(U):Promise.resolve()}function Ye(R){const j=nn.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(R):R()}function Ae(R,j){let U;const[G,he,ye]=$d(R,j);U=gs(G.reverse(),"beforeRouteLeave",R,j);for(const p of G)p.leaveGuards.forEach(b=>{U.push(Lt(b,R,j))});const h=me.bind(null,R,j);return U.push(h),Be(U).then(()=>{U=[];for(const p of i.list())U.push(Lt(p,R,j));return U.push(h),Be(U)}).then(()=>{U=gs(he,"beforeRouteUpdate",R,j);for(const p of he)p.updateGuards.forEach(b=>{U.push(Lt(b,R,j))});return U.push(h),Be(U)}).then(()=>{U=[];for(const p of ye)if(p.beforeEnter)if(ft(p.beforeEnter))for(const b of p.beforeEnter)U.push(Lt(b,R,j));else U.push(Lt(p.beforeEnter,R,j));return U.push(h),Be(U)}).then(()=>(R.matched.forEach(p=>p.enterCallbacks={}),U=gs(ye,"beforeRouteEnter",R,j,Ye),U.push(h),Be(U))).then(()=>{U=[];for(const p of o.list())U.push(Lt(p,R,j));return U.push(h),Be(U)}).catch(p=>Et(p,8)?p:Promise.reject(p))}function W(R,j,U){a.list().forEach(G=>Ye(()=>G(R,j,U)))}function ie(R,j,U,G,he){const ye=L(R,j);if(ye)return ye;const h=j===At,p=an?history.state:{};U&&(G||h?s.replace(R.fullPath,de({scroll:h&&p&&p.scroll},he)):s.push(R.fullPath,he)),c.value=R,ee(R,j,U,h),Z()}let y;function A(){y||(y=s.listen((R,j,U)=>{if(!nr.listening)return;const G=B(R),he=N(G);if(he){ve(de(he,{replace:!0}),G).catch(Nn);return}f=G;const ye=c.value;an&&od(wo(ye.fullPath,U.delta),ns()),Ae(G,ye).catch(h=>Et(h,12)?h:Et(h,2)?(ve(h.to,G).then(p=>{Et(p,20)&&!U.delta&&U.type===Wn.pop&&s.go(-1,!1)}).catch(Nn),Promise.reject()):(U.delta&&s.go(-U.delta,!1),M(h,G,ye))).then(h=>{h=h||ie(G,ye,!1),h&&(U.delta&&!Et(h,8)?s.go(-U.delta,!1):U.type===Wn.pop&&Et(h,20)&&s.go(-1,!1)),W(G,ye,h)}).catch(Nn)}))}let E=On(),v=On(),x;function M(R,j,U){Z(R);const G=v.list();return G.length?G.forEach(he=>he(R,j,U)):console.error(R),Promise.reject(R)}function q(){return x&&c.value!==At?Promise.resolve():new Promise((R,j)=>{E.add([R,j])})}function Z(R){return x||(x=!R,A(),E.list().forEach(([j,U])=>R?U(R):j()),E.reset()),R}function ee(R,j,U,G){const{scrollBehavior:he}=t;if(!an||!he)return Promise.resolve();const ye=!U&&ad(wo(R.fullPath,0))||(G||!U)&&history.state&&history.state.scroll||null;return Ja().then(()=>he(R,j,ye)).then(h=>h&&id(h)).catch(h=>M(h,R,j))}const te=R=>s.go(R);let St;const nn=new Set,nr={currentRoute:c,listening:!0,addRoute:g,removeRoute:T,hasRoute:V,getRoutes:O,resolve:B,options:t,push:X,replace:J,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:v.add,isReady:q,install(R){const j=this;R.component("RouterLink",Id),R.component("RouterView",Bd),R.config.globalProperties.$router=j,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>mn(c)}),an&&!St&&c.value===At&&(St=!0,X(s.location).catch(he=>{}));const U={};for(const he in At)Object.defineProperty(U,he,{get:()=>c.value[he],enumerable:!0});R.provide(Ai,j),R.provide(Mc,Fa(U)),R.provide(Ns,c);const G=R.unmount;nn.add(R),R.unmount=function(){nn.delete(R),nn.size<1&&(f=At,y&&y(),y=null,c.value=At,St=!1,x=!1),G()}}};function Be(R){return R.reduce((j,U)=>j.then(()=>Ye(U)),Promise.resolve())}return nr}function $d(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(f=>xn(f,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(f=>xn(f,c))||s.push(c))}return[n,r,s]}const Nd={class:"flex flex-col gap-6"},jd={key:0},Fd={key:1},Vd=En({__name:"Chat",props:{messages:{}},setup(t){return(e,n)=>($e(),qe("ul",Nd,[($e(!0),qe(mt,null,fu(e.messages,(r,s)=>($e(),qe("li",{key:s,class:dn(["max-w-[80%] lg:max-w-[320px]",{"ml-auto":r.my}])},[De("div",{class:dn(["text-sm",r.my?"text-right":"text-left"])},[r.my?($e(),qe("span",jd,"me")):($e(),qe("span",Fd,"other(korea)"))],2),De("p",{class:dn(["border | rounded-lg | p-1.5 | text-sm",r.my?"bg-white":"bg-slate-200"])},of(r.message),3)],2))),128))]))}}),zd={},Hd={class:"loader"};function Kd(t,e){return $e(),qe("span",Hd)}const qd=ts(zd,[["render",Kd],["__scopeId","data-v-137ee6f9"]]),Gd={class:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 | flex flex-col items-center justify-center"},Wd={class:"shadow-lg"},Jd=De("div",{class:"w-[240px] aspect-square bg-slate-100 | rounded-t-lg"},null,-1),Yd={key:0},Xd=De("span",{class:"ml-2 | text-sm"},"",-1),Qd={key:1,class:"text-sm"},Zd=En({__name:"ChatStarter",props:{loading:{type:Boolean}},emits:["start","pause"],setup(t,{emit:e}){const n=e;return(r,s)=>($e(),qe("div",Gd,[De("div",Wd,[Jd,De("button",{class:"w-full | border rounded-b-lg | px-8 py-1.5 | bg-slate-500 | text-white",onClick:s[0]||(s[0]=i=>r.loading?n("pause"):n("start"))},[r.loading?($e(),qe("span",Yd,[Te(qd),Xd])):($e(),qe("span",Qd,"   "))])]),bc("",!0)]))}}),ep={},tp={class:"text-sm text-gray-500"};function np(t,e){return $e(),qe("div",tp,"    ,    , ,  ,        .          .    ,    . . ")}const rp=ts(ep,[["render",np]]);function Dc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lc={exports:{}};(function(t){var e=(()=>{var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,c=(X,J,N)=>J in X?n(X,J,{enumerable:!0,configurable:!0,writable:!0,value:N}):X[J]=N,f=(X,J)=>{for(var N in J||(J={}))o.call(J,N)&&c(X,N,J[N]);if(i)for(var N of i(J))a.call(J,N)&&c(X,N,J[N]);return X},l=(X,J)=>{for(var N in J)n(X,N,{get:J[N],enumerable:!0})},u=(X,J,N,ve)=>{if(J&&typeof J=="object"||typeof J=="function")for(let me of s(J))!o.call(X,me)&&me!==N&&n(X,me,{get:()=>J[me],enumerable:!(ve=r(J,me))||ve.enumerable});return X},d=X=>u(n({},"__esModule",{value:!0}),X),g=(X,J,N)=>(c(X,typeof J!="symbol"?J+"":J,N),N),T={};l(T,{DEFAULT_OPTIONS:()=>B,DEFAULT_UUID_LENGTH:()=>V,default:()=>L});var O="5.0.3",V=6,B={dictionary:"alphanum",shuffle:!0,debug:!1,length:V,counter:0},z=class{constructor(J={}){g(this,"counter"),g(this,"debug"),g(this,"dict"),g(this,"version"),g(this,"dictIndex",0),g(this,"dictRange",[]),g(this,"lowerBound",0),g(this,"upperBound",0),g(this,"dictLength",0),g(this,"uuidLength"),g(this,"_digit_first_ascii",48),g(this,"_digit_last_ascii",58),g(this,"_alpha_lower_first_ascii",97),g(this,"_alpha_lower_last_ascii",123),g(this,"_hex_last_ascii",103),g(this,"_alpha_upper_first_ascii",65),g(this,"_alpha_upper_last_ascii",91),g(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),g(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),g(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),g(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),g(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),g(this,"log",(...W)=>{const ie=[...W];if(ie[0]=`[short-unique-id] ${W[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...ie)}),g(this,"setDictionary",(W,ie)=>{let y;if(W&&Array.isArray(W)&&W.length>1)y=W;else{y=[];let A;this.dictIndex=A=0;const E=`_${W}_dict_ranges`,v=this._dict_ranges[E];Object.keys(v).forEach(x=>{const M=x;for(this.dictRange=v[M],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=A=this.lowerBound;this.lowerBound<=this.upperBound?A<this.upperBound:A>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?A+=1:A-=1)y.push(String.fromCharCode(this.dictIndex))})}ie&&(y=y.sort(()=>Math.random()-.5)),this.dict=y,this.dictLength=this.dict.length,this.setCounter(0)}),g(this,"seq",()=>this.sequentialUUID()),g(this,"sequentialUUID",()=>{let W,ie,y="";W=this.counter;do ie=W%this.dictLength,W=Math.trunc(W/this.dictLength),y+=this.dict[ie];while(W!==0);return this.counter+=1,y}),g(this,"rnd",(W=this.uuidLength||V)=>this.randomUUID(W)),g(this,"randomUUID",(W=this.uuidLength||V)=>{let ie,y,A;if(W===null||typeof W>"u"||W<1)throw new Error("Invalid UUID Length Provided");for(ie="",A=0;A<W;A+=1)y=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,ie+=this.dict[y];return ie}),g(this,"fmt",(W,ie)=>this.formattedUUID(W,ie)),g(this,"formattedUUID",(W,ie)=>{const y={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return W.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,E=>{const v=E.slice(0,2),x=parseInt(E.slice(2),10);return v==="$s"?y[v]().padStart(x,"0"):v==="$t"&&ie?y[v](x,ie):y[v](x)})}),g(this,"availableUUIDs",(W=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,W).toFixed(0))),g(this,"approxMaxBeforeCollision",(W=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*W).toFixed(20))),g(this,"collisionProbability",(W=this.availableUUIDs(this.uuidLength),ie=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(W)/this.availableUUIDs(ie)).toFixed(20))),g(this,"uniqueness",(W=this.availableUUIDs(this.uuidLength))=>{const ie=parseFloat((1-this.approxMaxBeforeCollision(W)/W).toFixed(20));return ie>1?1:ie<0?0:ie}),g(this,"getVersion",()=>this.version),g(this,"stamp",(W,ie)=>{const y=Math.floor(+(ie||new Date)/1e3).toString(16);if(typeof W=="number"&&W===0)return y;if(typeof W!="number"||W<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const A=W-9,E=Math.round(Math.random()*(A>15?15:A)),v=this.randomUUID(A);return`${v.substring(0,E)}${y}${v.substring(E)}${E.toString(16)}`}),g(this,"parseStamp",(W,ie)=>{if(ie&&!/t0|t[1-9]\d{1,}/.test(ie))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const y=ie?ie.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,E=>{const v={$r:q=>[...Array(q)].map(()=>"r").join(""),$s:q=>[...Array(q)].map(()=>"s").join(""),$t:q=>[...Array(q)].map(()=>"t").join("")},x=E.slice(0,2),M=parseInt(E.slice(2),10);return v[x](M)}).replace(/^(.*?)(t{8,})(.*)$/g,(E,v,x)=>W.substring(v.length,v.length+x.length)):W;if(y.length===8)return new Date(parseInt(y,16)*1e3);if(y.length<10)throw new Error("Stamp length invalid");const A=parseInt(y.substring(y.length-1),16);return new Date(parseInt(y.substring(A,A+8),16)*1e3)}),g(this,"setCounter",W=>{this.counter=W});const N=f(f({},B),J);this.counter=0,this.debug=!1,this.dict=[],this.version=O;const{dictionary:ve,shuffle:me,length:Ye,counter:Ae}=N;return this.uuidLength=Ye,this.setDictionary(ve,me),this.setCounter(Ae),this.debug=N.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};g(z,"default",z);var L=z;return d(T)})();t.exports=e.default,typeof window<"u"&&(e=e.default)})(Lc);var sp=Lc.exports;const ip=Dc(sp),op=(t=1e3)=>new Promise(e=>setTimeout(e,t)),ap=()=>new ip({length:10,dictionary:"alpha"}).rnd(),cp={sleep:op,generateUniqueId:ap};class lp{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return fp(e).buffer}}function fp(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function Bc(t){return new up(t).unpack()}function Uc(t){const e=new hp,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class up{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,s="",i,o;for(;r<e;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=e,s}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,s=e&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,s=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class hp{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(e[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),s=e/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,c=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(c)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new lp,this._textEncoder=new TextEncoder}}let $c=!0,Nc=!0;function vr(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function Zt(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return s.apply(this,arguments);const c=f=>{const l=n(f);l&&(a.handleEvent?a.handleEvent(l):a(l))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,c),s.apply(this,[o,c])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const c=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,c])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function dp(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):($c=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function pp(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Nc=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function jc(){if(typeof window=="object"){if($c)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function wi(t,e){Nc&&console.warn(t+" is deprecated, please use "+e+" instead.")}function mp(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=vr(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=vr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=vr(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function Ko(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fc(t){return Ko(t)?Object.keys(t).reduce(function(e,n){const r=Ko(t[n]),s=r?Fc(t[n]):t[n],i=r&&!Object.keys(s).length;return s===void 0||i?e:Object.assign(e,{[n]:s})},{}):t}function js(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?js(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(s=>{js(t,t.get(s),n)})}))}function qo(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(e===null)return s;const i=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&i.push(o)}),i.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&js(t,a,s)})}),s}const Go=jc;function Vc(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const c={};return Object.keys(a).forEach(f=>{if(f==="require"||f==="advanced"||f==="mediaSource")return;const l=typeof a[f]=="object"?a[f]:{ideal:a[f]};l.exact!==void 0&&typeof l.exact=="number"&&(l.min=l.max=l.exact);const u=function(d,g){return d?d+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(l.ideal!==void 0){c.optional=c.optional||[];let d={};typeof l.ideal=="number"?(d[u("min",f)]=l.ideal,c.optional.push(d),d={},d[u("max",f)]=l.ideal,c.optional.push(d)):(d[u("",f)]=l.ideal,c.optional.push(d))}l.exact!==void 0&&typeof l.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[u("",f)]=l.exact):["min","max"].forEach(d=>{l[d]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[u(d,f)]=l[d])})}),a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced)),c},s=function(a,c){if(e.version>=61)return c(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const f=function(l,u,d){u in l&&!(d in l)&&(l[d]=l[u],delete l[u])};a=JSON.parse(JSON.stringify(a)),f(a.audio,"autoGainControl","googAutoGainControl"),f(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let f=a.video.facingMode;f=f&&(typeof f=="object"?f:{ideal:f});const l=e.version<66;if(f&&(f.exact==="user"||f.exact==="environment"||f.ideal==="user"||f.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!l)){delete a.video.facingMode;let u;if(f.exact==="environment"||f.ideal==="environment"?u=["back","rear"]:(f.exact==="user"||f.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(d=>{d=d.filter(T=>T.kind==="videoinput");let g=d.find(T=>u.some(O=>T.label.toLowerCase().includes(O)));return!g&&d.length&&u.includes("back")&&(g=d[d.length-1]),g&&(a.video.deviceId=f.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=r(a.video),Go("chrome: "+JSON.stringify(a)),c(a)})}a.video=r(a.video)}return Go("chrome: "+JSON.stringify(a)),c(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,c,f){s(a,l=>{n.webkitGetUserMedia(l,c,u=>{f&&f(i(u))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(c){return s(c,f=>a(f).then(l=>{if(f.audio&&!l.getAudioTracks().length||f.video&&!l.getVideoTracks().length)throw l.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return l},l=>Promise.reject(i(l))))}}}function gp(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(r){return e(r).then(s=>{const i=r.video&&r.video.width,o=r.video&&r.video.height,a=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:s,maxFrameRate:a||3}},i&&(r.video.mandatory.maxWidth=i),o&&(r.video.mandatory.maxHeight=o),t.navigator.mediaDevices.getUserMedia(r)})}}}function zc(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Hc(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Zt(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Kc(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,c){let f=s.apply(this,arguments);return f||(f=e(this,a),this._senders.push(f)),f};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const c=this._senders.indexOf(a);c!==-1&&this._senders.splice(c,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(c=>c.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function qc(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[r,s,i]=arguments;if(arguments.length>0&&typeof r=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof r!="function"))return e.apply(this,[]);const o=function(c){const f={};return c.result().forEach(u=>{const d={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(g=>{d[g]=u.stat(g)}),f[d.id]=d}),f},a=function(c){return new Map(Object.keys(c).map(f=>[f,c[f]]))};if(arguments.length>=2){const c=function(f){s(a(o(f)))};return e.apply(this,[c,r])}return new Promise((c,f)=>{e.apply(this,[function(l){c(a(o(l)))},f])}).then(s,i)}}function Gc(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>qo(o,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Zt(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>qo(i,s.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Wc(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const c=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(c)===-1&&this._shimmedLocalStreams[a.id].push(c):this._shimmedLocalStreams[a.id]=[a,c],c};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(f=>{if(this.getSenders().find(u=>u.track===f))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const c=this.getSenders().filter(f=>a.indexOf(f)===-1);this._shimmedLocalStreams[o.id]=[o].concat(c)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const c=this._shimmedLocalStreams[a].indexOf(o);c!==-1&&this._shimmedLocalStreams[a].splice(c,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function Jc(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Wc(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const l=n.apply(this);return this._reverseStreams=this._reverseStreams||{},l.map(u=>this._reverseStreams[u.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(l){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.getTracks().forEach(u=>{if(this.getSenders().find(g=>g.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[l.id]){const u=new t.MediaStream(l.getTracks());this._streams[l.id]=u,this._reverseStreams[u.id]=l,l=u}r.apply(this,[l])};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(l){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[l.id]||l]),delete this._reverseStreams[this._streams[l.id]?this._streams[l.id].id:l.id],delete this._streams[l.id]},t.RTCPeerConnection.prototype.addTrack=function(l,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const d=[].slice.call(arguments,1);if(d.length!==1||!d[0].getTracks().find(O=>O===l))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(O=>O.track===l))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const T=this._streams[u.id];if(T)T.addTrack(l),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const O=new t.MediaStream([l]);this._streams[u.id]=O,this._reverseStreams[O.id]=u,this.addStream(O)}return this.getSenders().find(O=>O.track===l)};function i(f,l){let u=l.sdp;return Object.keys(f._reverseStreams||[]).forEach(d=>{const g=f._reverseStreams[d],T=f._streams[g.id];u=u.replace(new RegExp(T.id,"g"),g.id)}),new RTCSessionDescription({type:l.type,sdp:u})}function o(f,l){let u=l.sdp;return Object.keys(f._reverseStreams||[]).forEach(d=>{const g=f._reverseStreams[d],T=f._streams[g.id];u=u.replace(new RegExp(g.id,"g"),T.id)}),new RTCSessionDescription({type:l.type,sdp:u})}["createOffer","createAnswer"].forEach(function(f){const l=t.RTCPeerConnection.prototype[f],u={[f](){const d=arguments;return arguments.length&&typeof arguments[0]=="function"?l.apply(this,[T=>{const O=i(this,T);d[0].apply(null,[O])},T=>{d[1]&&d[1].apply(null,T)},arguments[2]]):l.apply(this,arguments).then(T=>i(this,T))}};t.RTCPeerConnection.prototype[f]=u[f]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const c=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const f=c.get.apply(this);return f.type===""?f:i(this,f)}}),t.RTCPeerConnection.prototype.removeTrack=function(l){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!l._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(l._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let d;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(O=>l.track===O)&&(d=this._streams[g])}),d&&(d.getTracks().length===1?this.removeStream(this._reverseStreams[d.id]):d.removeTrack(l.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Fs(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=s[n]})}function Yc(t,e){Zt(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const Wo=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Yc,shimAddTrackRemoveTrack:Jc,shimAddTrackRemoveTrackWithNative:Wc,shimGetDisplayMedia:gp,shimGetSendersWithDtmf:Kc,shimGetStats:qc,shimGetUserMedia:Vc,shimMediaStream:zc,shimOnTrack:Hc,shimPeerConnection:Fs,shimSenderReceiverGetStats:Gc},Symbol.toStringTag,{value:"Module"}));function Xc(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){wi("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,c){a in o&&!(c in o)&&(o[c]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function yp(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Qc(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Vs(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=t.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(c=>{if(e.version<53&&!o)try{c.forEach(f=>{f.type=n[f.type]||f.type})}catch(f){if(f.name!=="TypeError")throw f;c.forEach((l,u)=>{c.set(u,Object.assign({},l,{type:n[l.type]||l.type}))})}return c}).then(o,a)}}function Zc(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function el(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Zt(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function tl(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){wi("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function nl(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function rl(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function sl(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function il(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function ol(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Jo=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:rl,shimCreateAnswer:ol,shimCreateOffer:il,shimGetDisplayMedia:yp,shimGetParameters:sl,shimGetUserMedia:Xc,shimOnTrack:Qc,shimPeerConnection:Vs,shimRTCDataChannel:nl,shimReceiverGetStats:el,shimRemoveStream:tl,shimSenderGetStats:Zc},Symbol.toStringTag,{value:"Module"}));function al(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>e.call(this,s,r)),r.getVideoTracks().forEach(s=>e.call(this,s,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function cl(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function ll(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,s=e.setLocalDescription,i=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(f,l){const u=arguments.length>=2?arguments[2]:arguments[0],d=n.apply(this,[u]);return l?(d.then(f,l),Promise.resolve()):d},e.createAnswer=function(f,l){const u=arguments.length>=2?arguments[2]:arguments[0],d=r.apply(this,[u]);return l?(d.then(f,l),Promise.resolve()):d};let a=function(c,f,l){const u=s.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u};e.setLocalDescription=a,a=function(c,f,l){const u=i.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u},e.setRemoteDescription=a,a=function(c,f,l){const u=o.apply(this,[c]);return l?(u.then(f,l),Promise.resolve()):u},e.addIceCandidate=a}function fl(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=s=>r(ul(s))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,s,i){e.mediaDevices.getUserMedia(r).then(s,i)}).bind(e))}function ul(t){return t&&t.video!==void 0?Object.assign({},t,{video:Fc(t.video)}):t}function hl(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(wi("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new e(r,s)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function dl(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function pl(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function ml(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const Yo=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:ml,shimCallbacksAPI:ll,shimConstraints:ul,shimCreateOfferLegacy:pl,shimGetUserMedia:fl,shimLocalStreamsAPI:al,shimRTCIceServerUrls:hl,shimRemoteStreamsAPI:cl,shimTrackEventTransceiver:dl},Symbol.toStringTag,{value:"Module"}));var gl={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(s=>s.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},e.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const s=e.matchPrefix(n+r,"a=ice-ufrag:")[0],i=e.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=e.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const c=i[a],f=e.matchPrefix(n,"a=rtpmap:"+c+" ")[0];if(f){const l=e.parseRtpMap(f),u=e.matchPrefix(n,"a=fmtp:"+c+" ");switch(l.parameters=u.length?e.parseFmtp(u[0]):{},l.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+c+" ").map(e.parseRtcpFb),r.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(l.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(c=>{a.rtcpFeedback.find(l=>l.type===c.type&&l.parameter===c.parameter)||a.rtcpFeedback.push(c)})}),r},e.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=e.writeRtpMap(o),s+=e.writeFmtp(o),s+=e.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=e.writeExtmap(o)}),s},e.parseRtpEncodingParameters=function(n){const r=[],s=e.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="cname"),c=a.length>0&&a[0].ssrc;let f;const l=e.matchPrefix(n,"a=ssrc-group:FID").map(d=>d.substring(17).split(" ").map(T=>parseInt(T,10)));l.length>0&&l[0].length>1&&l[0][0]===c&&(f=l[0][1]),s.codecs.forEach(d=>{if(d.name.toUpperCase()==="RTX"&&d.parameters.apt){let g={ssrc:c,codecPayloadType:parseInt(d.parameters.apt,10)};c&&f&&(g.rtx={ssrc:f}),r.push(g),i&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(g))}}),r.length===0&&c&&r.push({ssrc:c});let u=e.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,r.forEach(d=>{d.maxBitrate=u})),r},e.parseRtcpParameters=function(n){const r={},s=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const s=e.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),s=e.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const c=a[0].substring(10).split(" ");return{port:parseInt(c[0],10),protocol:c[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=e.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const s=e.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const s=e.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},e.parseOLine=function(n){const s=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},t.exports=e})(gl);var yl=gl.exports;const yn=Dc(yl),_p=ql({__proto__:null,default:yn},[yl]);function Cr(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new e(r),i=yn.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Zt(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function zs(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Zt(t,"icecandidate",e=>{if(e.candidate){const n=yn.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Sr(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const c=yn.splitSections(a.sdp);return c.shift(),c.some(f=>{const l=yn.parseMLine(f);return l&&l.kind==="application"&&l.protocol.indexOf("SCTP")!==-1})},r=function(a){const c=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(c===null||c.length<2)return-1;const f=parseInt(c[1],10);return f!==f?-1:f},s=function(a){let c=65536;return e.browser==="firefox"&&(e.version<57?a===-1?c=16384:c=2147483637:e.version<60?c=e.version===57?65535:65536:c=2147483637),c},i=function(a,c){let f=65536;e.browser==="firefox"&&e.version===57&&(f=65535);const l=yn.matchPrefix(a.sdp,"a=max-message-size:");return l.length>0?f=parseInt(l[0].substring(19),10):e.browser==="firefox"&&c!==-1&&(f=2147483637),f},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:c}=this.getConfiguration();c==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const c=r(arguments[0]),f=s(c),l=i(arguments[0],c);let u;f===0&&l===0?u=Number.POSITIVE_INFINITY:f===0||l===0?u=Math.max(f,l):u=Math.min(f,l);const d={};Object.defineProperty(d,"maxMessageSize",{get(){return u}}),this._sctp=d}return o.apply(this,arguments)}}function Er(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,s){const i=r.send;r.send=function(){const a=arguments[0],c=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&c>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return e(s,this),s},Zt(t,"datachannel",r=>(e(r.channel,r.target),r))}function Hs(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Ks(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&s instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Rr(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function kr(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const bp=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Ks,shimAddIceCandidateNullOrEmpty:Rr,shimConnectionState:Hs,shimMaxMessageSize:Sr,shimParameterlessSetLocalDescription:kr,shimRTCIceCandidate:Cr,shimRTCIceCandidateRelayProtocol:zs,shimSendThrowTypeError:Er},Symbol.toStringTag,{value:"Module"}));function xp({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=jc,r=mp(t),s={browserDetails:r,commonShim:bp,extractVersion:vr,disableLog:dp,disableWarnings:pp,sdp:_p};switch(r.browser){case"chrome":if(!Wo||!Fs||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=Wo,Rr(t,r),kr(t),Vc(t,r),zc(t),Fs(t,r),Hc(t),Jc(t,r),Kc(t),qc(t),Gc(t),Yc(t,r),Cr(t),zs(t),Hs(t),Sr(t,r),Er(t),Ks(t,r);break;case"firefox":if(!Jo||!Vs||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=Jo,Rr(t,r),kr(t),Xc(t,r),Vs(t,r),Qc(t),tl(t),Zc(t),el(t),nl(t),rl(t),sl(t),il(t),ol(t),Cr(t),Hs(t),Sr(t,r),Er(t);break;case"safari":if(!Yo||!e.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=Yo,Rr(t,r),kr(t),hl(t),pl(t),ll(t),al(t),cl(t),dl(t),fl(t),ml(t),Cr(t),zs(t),Sr(t,r),Er(t),Ks(t,r);break;default:n("Unsupported browser!");break}return s}const Xo=xp({window:typeof window>"u"?void 0:window});let qs;try{qs=new TextDecoder}catch{}let H,Gt,C=0;const vp=105,Cp=57342,Sp=57343,Qo=57337,Zo=6,sn={};let ce={},Se,$r,Nr=0,Jn=0,Pe,ot,Re=[],Gs=[],Ge,Ve,Mn,ea={useRecords:!1,mapsAsObjects:!0},Yn=!1,_l=2;try{new Function("")}catch{_l=1/0}let bl=class Ws{constructor(e){if(e&&((e.keyMap||e._keyMap)&&!e.useRecords&&(e.useRecords=!1,e.mapsAsObjects=!0),e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.getStructures&&(e.getShared=e.getStructures),e.getShared&&!e.structures&&((e.structures=[]).uninitialized=!0),e.keyMap)){this.mapKey=new Map;for(let[n,r]of Object.entries(e.keyMap))this.mapKey.set(r,n)}Object.assign(this,e)}decodeKey(e){return this.keyMap&&this.mapKey.get(e)||e}encodeKey(e){return this.keyMap&&this.keyMap.hasOwnProperty(e)?this.keyMap[e]:e}encodeKeys(e){if(!this._keyMap)return e;let n=new Map;for(let[r,s]of Object.entries(e))n.set(this._keyMap.hasOwnProperty(r)?this._keyMap[r]:r,s);return n}decodeKeys(e){if(!this._keyMap||e.constructor.name!="Map")return e;if(!this._mapKey){this._mapKey=new Map;for(let[r,s]of Object.entries(this._keyMap))this._mapKey.set(s,r)}let n={};return e.forEach((r,s)=>n[Ze(this._mapKey.has(s)?this._mapKey.get(s):s)]=r),n}mapDecode(e,n){let r=this.decode(e);if(this._keyMap)switch(r.constructor.name){case"Array":return r.map(s=>this.decodeKeys(s))}return r}decode(e,n){if(H)return Sl(()=>(Qs(),this?this.decode(e,n):Ws.prototype.decode.call(ea,e,n)));Gt=n>-1?n:e.length,C=0,Jn=0,$r=null,Pe=null,H=e;try{Ve=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw H=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Ws){if(ce=this,Ge=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),this.structures)return Se=this.structures,lr();(!Se||Se.length>0)&&(Se=[])}else ce=ea,(!Se||Se.length>0)&&(Se=[]),Ge=null;return lr()}decodeMultiple(e,n){let r,s=0;try{let i=e.length;Yn=!0;let o=this?this.decode(e,i):Di.decode(e,i);if(n){if(n(o)===!1)return;for(;C<i;)if(s=C,n(lr())===!1)return}else{for(r=[o];C<i;)s=C,r.push(lr());return r}}catch(i){throw i.lastPosition=s,i.values=r,i}finally{Yn=!1,Qs()}}};function lr(){try{let t=ae();if(Pe){if(C>=Pe.postBundlePosition){let e=new Error("Unexpected bundle position");throw e.incomplete=!0,e}C=Pe.postBundlePosition,Pe=null}if(C==Gt)Se=null,H=null,ot&&(ot=null);else if(C>Gt){let e=new Error("Unexpected end of CBOR data");throw e.incomplete=!0,e}else if(!Yn)throw new Error("Data read, but end of buffer not reached");return t}catch(t){throw Qs(),(t instanceof RangeError||t.message.startsWith("Unexpected end of buffer"))&&(t.incomplete=!0),t}}function ae(){let t=H[C++],e=t>>5;if(t=t&31,t>23)switch(t){case 24:t=H[C++];break;case 25:if(e==7)return Tp();t=Ve.getUint16(C),C+=2;break;case 26:if(e==7){let n=Ve.getFloat32(C);if(ce.useFloat32>2){let r=Mi[(H[C]&127)<<1|H[C+1]>>7];return C+=4,(r*n+(n>0?.5:-.5)>>0)/r}return C+=4,n}t=Ve.getUint32(C),C+=4;break;case 27:if(e==7){let n=Ve.getFloat64(C);return C+=8,n}if(e>1){if(Ve.getUint32(C)>0)throw new Error("JavaScript does not support arrays, maps, or strings with length over 4294967295");t=Ve.getUint32(C+4)}else ce.int64AsNumber?(t=Ve.getUint32(C)*4294967296,t+=Ve.getUint32(C+4)):t=Ve.getBigUint64(C);C+=8;break;case 31:switch(e){case 2:case 3:throw new Error("Indefinite length not supported for byte or text strings");case 4:let n=[],r,s=0;for(;(r=ae())!=sn;)n[s++]=r;return e==4?n:e==3?n.join(""):Buffer.concat(n);case 5:let i;if(ce.mapsAsObjects){let o={};if(ce.keyMap)for(;(i=ae())!=sn;)o[Ze(ce.decodeKey(i))]=ae();else for(;(i=ae())!=sn;)o[Ze(i)]=ae();return o}else{Mn&&(ce.mapsAsObjects=!0,Mn=!1);let o=new Map;if(ce.keyMap)for(;(i=ae())!=sn;)o.set(ce.decodeKey(i),ae());else for(;(i=ae())!=sn;)o.set(i,ae());return o}case 7:return sn;default:throw new Error("Invalid major type for indefinite length "+e)}default:throw new Error("Unknown token "+t)}switch(e){case 0:return t;case 1:return~t;case 2:return kp(t);case 3:if(Jn>=C)return $r.slice(C-Nr,(C+=t)-Nr);if(Jn==0&&Gt<140&&t<32){let s=t<16?xl(t):Rp(t);if(s!=null)return s}return Ep(t);case 4:let n=new Array(t);for(let s=0;s<t;s++)n[s]=ae();return n;case 5:if(ce.mapsAsObjects){let s={};if(ce.keyMap)for(let i=0;i<t;i++)s[Ze(ce.decodeKey(ae()))]=ae();else for(let i=0;i<t;i++)s[Ze(ae())]=ae();return s}else{Mn&&(ce.mapsAsObjects=!0,Mn=!1);let s=new Map;if(ce.keyMap)for(let i=0;i<t;i++)s.set(ce.decodeKey(ae()),ae());else for(let i=0;i<t;i++)s.set(ae(),ae());return s}case 6:if(t>=Qo){let s=Se[t&8191];if(s)return s.read||(s.read=Js(s)),s.read();if(t<65536){if(t==Sp){let i=fn(),o=ae(),a=ae();Xs(o,a);let c={};if(ce.keyMap)for(let f=2;f<i;f++){let l=ce.decodeKey(a[f-2]);c[Ze(l)]=ae()}else for(let f=2;f<i;f++){let l=a[f-2];c[Ze(l)]=ae()}return c}else if(t==Cp){let i=fn(),o=ae();for(let a=2;a<i;a++)Xs(o++,ae());return ae()}else if(t==Qo)return Mp();if(ce.getShared&&(Ii(),s=Se[t&8191],s))return s.read||(s.read=Js(s)),s.read()}}let r=Re[t];if(r)return r.handlesRead?r(ae):r(ae());{let s=ae();for(let i=0;i<Gs.length;i++){let o=Gs[i](t,s);if(o!==void 0)return o}return new Jt(s,t)}case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case 31:default:let s=(Ge||Ft())[t];if(s!==void 0)return s;throw new Error("Unknown token "+t)}default:if(isNaN(t)){let s=new Error("Unexpected end of CBOR data");throw s.incomplete=!0,s}throw new Error("Unknown CBOR token "+t)}}const ta=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Js(t){function e(){let n=H[C++];if(n=n&31,n>23)switch(n){case 24:n=H[C++];break;case 25:n=Ve.getUint16(C),C+=2;break;case 26:n=Ve.getUint32(C),C+=4;break;default:throw new Error("Expected array header, but got "+H[C-1])}let r=this.compiledReader;for(;r;){if(r.propertyCount===n)return r(ae);r=r.next}if(this.slowReads++>=_l){let i=this.length==n?this:this.slice(0,n);return r=ce.keyMap?new Function("r","return {"+i.map(o=>ce.decodeKey(o)).map(o=>ta.test(o)?Ze(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"):new Function("r","return {"+i.map(o=>ta.test(o)?Ze(o)+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}"),this.compiledReader&&(r.next=this.compiledReader),r.propertyCount=n,this.compiledReader=r,r(ae)}let s={};if(ce.keyMap)for(let i=0;i<n;i++)s[Ze(ce.decodeKey(this[i]))]=ae();else for(let i=0;i<n;i++)s[Ze(this[i])]=ae();return s}return t.slowReads=0,e}function Ze(t){return t==="__proto__"?"__proto_":t}let Ep=Ys;function Ys(t){let e;if(t<16&&(e=xl(t)))return e;if(t>64&&qs)return qs.decode(H.subarray(C,C+=t));const n=C+t,r=[];for(e="";C<n;){const s=H[C++];if(!(s&128))r.push(s);else if((s&224)===192){const i=H[C++]&63;r.push((s&31)<<6|i)}else if((s&240)===224){const i=H[C++]&63,o=H[C++]&63;r.push((s&31)<<12|i<<6|o)}else if((s&248)===240){const i=H[C++]&63,o=H[C++]&63,a=H[C++]&63;let c=(s&7)<<18|i<<12|o<<6|a;c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|c&1023),r.push(c)}else r.push(s);r.length>=4096&&(e+=Ie.apply(String,r),r.length=0)}return r.length>0&&(e+=Ie.apply(String,r)),e}let Ie=String.fromCharCode;function Rp(t){let e=C,n=new Array(t);for(let r=0;r<t;r++){const s=H[C++];if((s&128)>0){C=e;return}n[r]=s}return Ie.apply(String,n)}function xl(t){if(t<4)if(t<2){if(t===0)return"";{let e=H[C++];if((e&128)>1){C-=1;return}return Ie(e)}}else{let e=H[C++],n=H[C++];if((e&128)>0||(n&128)>0){C-=2;return}if(t<3)return Ie(e,n);let r=H[C++];if((r&128)>0){C-=3;return}return Ie(e,n,r)}else{let e=H[C++],n=H[C++],r=H[C++],s=H[C++];if((e&128)>0||(n&128)>0||(r&128)>0||(s&128)>0){C-=4;return}if(t<6){if(t===4)return Ie(e,n,r,s);{let i=H[C++];if((i&128)>0){C-=5;return}return Ie(e,n,r,s,i)}}else if(t<8){let i=H[C++],o=H[C++];if((i&128)>0||(o&128)>0){C-=6;return}if(t<7)return Ie(e,n,r,s,i,o);let a=H[C++];if((a&128)>0){C-=7;return}return Ie(e,n,r,s,i,o,a)}else{let i=H[C++],o=H[C++],a=H[C++],c=H[C++];if((i&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){C-=8;return}if(t<10){if(t===8)return Ie(e,n,r,s,i,o,a,c);{let f=H[C++];if((f&128)>0){C-=9;return}return Ie(e,n,r,s,i,o,a,c,f)}}else if(t<12){let f=H[C++],l=H[C++];if((f&128)>0||(l&128)>0){C-=10;return}if(t<11)return Ie(e,n,r,s,i,o,a,c,f,l);let u=H[C++];if((u&128)>0){C-=11;return}return Ie(e,n,r,s,i,o,a,c,f,l,u)}else{let f=H[C++],l=H[C++],u=H[C++],d=H[C++];if((f&128)>0||(l&128)>0||(u&128)>0||(d&128)>0){C-=12;return}if(t<14){if(t===12)return Ie(e,n,r,s,i,o,a,c,f,l,u,d);{let g=H[C++];if((g&128)>0){C-=13;return}return Ie(e,n,r,s,i,o,a,c,f,l,u,d,g)}}else{let g=H[C++],T=H[C++];if((g&128)>0||(T&128)>0){C-=14;return}if(t<15)return Ie(e,n,r,s,i,o,a,c,f,l,u,d,g,T);let O=H[C++];if((O&128)>0){C-=15;return}return Ie(e,n,r,s,i,o,a,c,f,l,u,d,g,T,O)}}}}}function kp(t){return ce.copyBuffers?Uint8Array.prototype.slice.call(H,C,C+=t):H.subarray(C,C+=t)}let vl=new Float32Array(1),fr=new Uint8Array(vl.buffer,0,4);function Tp(){let t=H[C++],e=H[C++],n=(t&127)>>2;if(n===31)return e||t&3?NaN:t&128?-1/0:1/0;if(n===0){let r=((t&3)<<8|e)/16777216;return t&128?-r:r}return fr[3]=t&128|(n>>1)+56,fr[2]=(t&7)<<5|e>>3,fr[1]=e<<5,fr[0]=0,vl[0]}new Array(4096);class Jt{constructor(e,n){this.value=e,this.tag=n}}Re[0]=t=>new Date(t);Re[1]=t=>new Date(Math.round(t*1e3));Re[2]=t=>{let e=BigInt(0);for(let n=0,r=t.byteLength;n<r;n++)e=BigInt(t[n])+e<<BigInt(8);return e};Re[3]=t=>BigInt(-1)-Re[2](t);Re[4]=t=>+(t[1]+"e"+t[0]);Re[5]=t=>t[1]*Math.exp(t[0]*Math.log(2));const Xs=(t,e)=>{t=t-57344;let n=Se[t];n&&n.isShared&&((Se.restoreStructures||(Se.restoreStructures=[]))[t]=n),Se[t]=e,e.read=Js(e)};Re[vp]=t=>{let e=t.length,n=t[1];Xs(t[0],n);let r={};for(let s=2;s<e;s++){let i=n[s-2];r[Ze(i)]=t[s]}return r};Re[14]=t=>Pe?Pe[0].slice(Pe.position0,Pe.position0+=t):new Jt(t,14);Re[15]=t=>Pe?Pe[1].slice(Pe.position1,Pe.position1+=t):new Jt(t,15);let Pp={Error,RegExp};Re[27]=t=>(Pp[t[0]]||Error)(t[1],t[2]);const Cl=t=>{if(H[C++]!=132)throw new Error("Packed values structure must be followed by a 4 element array");let e=t();return Ge=Ge?e.concat(Ge.slice(e.length)):e,Ge.prefixes=t(),Ge.suffixes=t(),t()};Cl.handlesRead=!0;Re[51]=Cl;Re[Zo]=t=>{if(!Ge)if(ce.getShared)Ii();else return new Jt(t,Zo);if(typeof t=="number")return Ge[16+(t>=0?2*t:-2*t-1)];throw new Error("No support for non-integer packed references yet")};Re[28]=t=>{ot||(ot=new Map,ot.id=0);let e=ot.id++,n=H[C],r;n>>5==4?r=[]:r={};let s={target:r};ot.set(e,s);let i=t();return s.used?Object.assign(r,i):(s.target=i,i)};Re[28].handlesRead=!0;Re[29]=t=>{let e=ot.get(t);return e.used=!0,e.target};Re[258]=t=>new Set(t);(Re[259]=t=>(ce.mapsAsObjects&&(ce.mapsAsObjects=!1,Mn=!0),t())).handlesRead=!0;function on(t,e){return typeof t=="string"?t+e:t instanceof Array?t.concat(e):Object.assign({},t,e)}function Ft(){if(!Ge)if(ce.getShared)Ii();else throw new Error("No packed values available");return Ge}const Op=1399353956;Gs.push((t,e)=>{if(t>=225&&t<=255)return on(Ft().prefixes[t-224],e);if(t>=28704&&t<=32767)return on(Ft().prefixes[t-28672],e);if(t>=1879052288&&t<=2147483647)return on(Ft().prefixes[t-1879048192],e);if(t>=216&&t<=223)return on(e,Ft().suffixes[t-216]);if(t>=27647&&t<=28671)return on(e,Ft().suffixes[t-27639]);if(t>=1811940352&&t<=1879048191)return on(e,Ft().suffixes[t-1811939328]);if(t==Op)return{packedValues:Ge,structures:Se.slice(0),version:e};if(t==55799)return e});const Ap=new Uint8Array(new Uint16Array([1]).buffer)[0]==1,na=[Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?{name:"BigUint64Array"}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?{name:"BigInt64Array"}:BigInt64Array,Float32Array,Float64Array],wp=[64,68,69,70,71,72,77,78,79,85,86];for(let t=0;t<na.length;t++)Ip(na[t],wp[t]);function Ip(t,e){let n="get"+t.name.slice(0,-5),r;typeof t=="function"?r=t.BYTES_PER_ELEMENT:t=null;for(let s=0;s<2;s++){if(!s&&r==1)continue;let i=r==2?1:r==4?2:3;Re[s?e:e-4]=r==1||s==Ap?o=>{if(!t)throw new Error("Could not find typed array for code "+e);return new t(Uint8Array.prototype.slice.call(o,0).buffer)}:o=>{if(!t)throw new Error("Could not find typed array for code "+e);let a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=o.length>>i,f=new t(c),l=a[n];for(let u=0;u<c;u++)f[u]=l.call(a,u<<i,s);return f}}}function Mp(){let t=fn(),e=C+ae();for(let r=2;r<t;r++){let s=fn();C+=s}let n=C;return C=e,Pe=[Ys(fn()),Ys(fn())],Pe.position0=0,Pe.position1=0,Pe.postBundlePosition=C,C=n,ae()}function fn(){let t=H[C++]&31;if(t>23)switch(t){case 24:t=H[C++];break;case 25:t=Ve.getUint16(C),C+=2;break;case 26:t=Ve.getUint32(C),C+=4;break}return t}function Ii(){if(ce.getShared){let t=Sl(()=>(H=null,ce.getShared()))||{},e=t.structures||[];ce.sharedVersion=t.version,Ge=ce.sharedValues=t.packedValues,Se===!0?ce.structures=Se=e:Se.splice.apply(Se,[0,e.length].concat(e))}}function Sl(t){let e=Gt,n=C,r=Nr,s=Jn,i=$r,o=ot,a=Pe,c=new Uint8Array(H.slice(0,Gt)),f=Se,l=ce,u=Yn,d=t();return Gt=e,C=n,Nr=r,Jn=s,$r=i,ot=o,Pe=a,H=c,Yn=u,Se=f,ce=l,Ve=new DataView(H.buffer,H.byteOffset,H.byteLength),d}function Qs(){H=null,ot=null,Se=null}const Mi=new Array(147);for(let t=0;t<256;t++)Mi[t]=+("1e"+Math.floor(45.15-t*.30103));let Di=new bl({useRecords:!1});Di.decode;Di.decodeMultiple;let Tr;try{Tr=new TextEncoder}catch{}let Zs,El;const rs=typeof globalThis=="object"&&globalThis.Buffer,tr=typeof rs<"u",ys=tr?rs.allocUnsafeSlow:Uint8Array,ra=tr?rs:Uint8Array,sa=256,ia=tr?4294967296:2144337920;let _s,_,ge,m=0,wt,ke=null;const Dp=61440,Lp=/[\u0080-\uFFFF]/,Qe=Symbol("record-id");let Bp=class extends bl{constructor(e){super(e),this.offset=0;let n,r,s,i,o;e=e||{};let a=ra.prototype.utf8Write?function(y,A,E){return _.utf8Write(y,A,E)}:Tr&&Tr.encodeInto?function(y,A){return Tr.encodeInto(y,_.subarray(A)).written}:!1,c=this,f=e.structures||e.saveStructures,l=e.maxSharedStructures;if(l==null&&(l=f?128:0),l>8190)throw new Error("Maximum maxSharedStructure is 8190");let u=e.sequential;u&&(l=0),this.structures||(this.structures=[]),this.saveStructures&&(this.saveShared=this.saveStructures);let d,g,T=e.sharedValues,O;if(T){O=Object.create(null);for(let y=0,A=T.length;y<A;y++)O[T[y]]=y}let V=[],B=0,z=0;this.mapEncode=function(y,A){if(this._keyMap&&!this._mapped)switch(y.constructor.name){case"Array":y=y.map(E=>this.encodeKeys(E));break}return this.encode(y,A)},this.encode=function(y,A){if(_||(_=new ys(8192),ge=new DataView(_.buffer,0,8192),m=0),wt=_.length-10,wt-m<2048?(_=new ys(_.length),ge=new DataView(_.buffer,0,_.length),wt=_.length-10,m=0):A===la&&(m=m+7&2147483640),n=m,c.useSelfDescribedHeader&&(ge.setUint32(m,3654940416),m+=3),o=c.structuredClone?new Map:null,c.bundleStrings&&typeof y!="string"?(ke=[],ke.size=1/0):ke=null,r=c.structures,r){if(r.uninitialized){let v=c.getShared()||{};c.structures=r=v.structures||[],c.sharedVersion=v.version;let x=c.sharedValues=v.packedValues;if(x){O={};for(let M=0,q=x.length;M<q;M++)O[x[M]]=M}}let E=r.length;if(E>l&&!u&&(E=l),!r.transitions){r.transitions=Object.create(null);for(let v=0;v<E;v++){let x=r[v];if(!x)continue;let M,q=r.transitions;for(let Z=0,ee=x.length;Z<ee;Z++){q[Qe]===void 0&&(q[Qe]=v);let te=x[Z];M=q[te],M||(M=q[te]=Object.create(null)),q=M}q[Qe]=v|1048576}}u||(r.nextId=E)}if(s&&(s=!1),i=r||[],g=O,e.pack){let E=new Map;if(E.values=[],E.encoder=c,E.maxValues=e.maxPrivatePackedValues||(O?16:1/0),E.objectMap=O||!1,E.samplingPackedValues=d,Pr(y,E),E.values.length>0){_[m++]=216,_[m++]=51,pt(4);let v=E.values;L(v),pt(0),pt(0),g=Object.create(O||null);for(let x=0,M=v.length;x<M;x++)g[v[x]]=x}}_s=A&xs;try{if(_s)return;if(L(y),ke&&ca(n,L),c.offset=m,o&&o.idsToInsert){m+=o.idsToInsert.length*2,m>wt&&J(m),c.offset=m;let E=Np(_.subarray(n,m),o.idsToInsert);return o=null,E}return A&la?(_.start=n,_.end=m,_):_.subarray(n,m)}finally{if(r){if(z<10&&z++,r.length>l&&(r.length=l),B>1e4)r.transitions=null,z=0,B=0,V.length>0&&(V=[]);else if(V.length>0&&!u){for(let E=0,v=V.length;E<v;E++)V[E][Qe]=void 0;V=[]}}if(s&&c.saveShared){c.structures.length>l&&(c.structures=c.structures.slice(0,l));let E=_.subarray(n,m);return c.updateSharedData()===!1?c.encode(y):E}A&jp&&(m=n)}},this.findCommonStringsToPack=()=>(d=new Map,O||(O=Object.create(null)),y=>{let A=y&&y.threshold||4,E=this.pack?y.maxPrivatePackedValues||16:0;T||(T=this.sharedValues=[]);for(let[v,x]of d)x.count>A&&(O[v]=E++,T.push(v),s=!0);for(;this.saveShared&&this.updateSharedData()===!1;);d=null});const L=y=>{m>wt&&(_=J(m));var A=typeof y,E;if(A==="string"){if(g){let q=g[y];if(q>=0){q<16?_[m++]=q+224:(_[m++]=198,q&1?L(15-q>>1):L(q-16>>1));return}else if(d&&!e.pack){let Z=d.get(y);Z?Z.count++:d.set(y,{count:1})}}let v=y.length;if(ke&&v>=4&&v<1024){if((ke.size+=v)>Dp){let Z,ee=(ke[0]?ke[0].length*3+ke[1].length:0)+10;m+ee>wt&&(_=J(m+ee)),_[m++]=217,_[m++]=223,_[m++]=249,_[m++]=ke.position?132:130,_[m++]=26,Z=m-n,m+=4,ke.position&&ca(n,L),ke=["",""],ke.size=0,ke.position=Z}let q=Lp.test(y);ke[q?0:1]+=y,_[m++]=q?206:207,L(v);return}let x;v<32?x=1:v<256?x=2:v<65536?x=3:x=5;let M=v*3;if(m+M>wt&&(_=J(m+M)),v<64||!a){let q,Z,ee,te=m+x;for(q=0;q<v;q++)Z=y.charCodeAt(q),Z<128?_[te++]=Z:Z<2048?(_[te++]=Z>>6|192,_[te++]=Z&63|128):(Z&64512)===55296&&((ee=y.charCodeAt(q+1))&64512)===56320?(Z=65536+((Z&1023)<<10)+(ee&1023),q++,_[te++]=Z>>18|240,_[te++]=Z>>12&63|128,_[te++]=Z>>6&63|128,_[te++]=Z&63|128):(_[te++]=Z>>12|224,_[te++]=Z>>6&63|128,_[te++]=Z&63|128);E=te-m-x}else E=a(y,m+x,M);E<24?_[m++]=96|E:E<256?(x<2&&_.copyWithin(m+2,m+1,m+1+E),_[m++]=120,_[m++]=E):E<65536?(x<3&&_.copyWithin(m+3,m+2,m+2+E),_[m++]=121,_[m++]=E>>8,_[m++]=E&255):(x<5&&_.copyWithin(m+5,m+3,m+3+E),_[m++]=122,ge.setUint32(m,E),m+=4),m+=E}else if(A==="number")if(!this.alwaysUseFloat&&y>>>0===y)y<24?_[m++]=y:y<256?(_[m++]=24,_[m++]=y):y<65536?(_[m++]=25,_[m++]=y>>8,_[m++]=y&255):(_[m++]=26,ge.setUint32(m,y),m+=4);else if(!this.alwaysUseFloat&&y>>0===y)y>=-24?_[m++]=31-y:y>=-256?(_[m++]=56,_[m++]=~y):y>=-65536?(_[m++]=57,ge.setUint16(m,~y),m+=2):(_[m++]=58,ge.setUint32(m,~y),m+=4);else{let v;if((v=this.useFloat32)>0&&y<4294967296&&y>=-2147483648){_[m++]=250,ge.setFloat32(m,y);let x;if(v<4||(x=y*Mi[(_[m]&127)<<1|_[m+1]>>7])>>0===x){m+=4;return}else m--}_[m++]=251,ge.setFloat64(m,y),m+=8}else if(A==="object")if(!y)_[m++]=246;else{if(o){let x=o.get(y);if(x){if(_[m++]=216,_[m++]=29,_[m++]=25,!x.references){let M=o.idsToInsert||(o.idsToInsert=[]);x.references=[],M.push(x)}x.references.push(m-n),m+=2;return}else o.set(y,{offset:m-n})}let v=y.constructor;if(v===Object)X(y,!0);else if(v===Array){E=y.length,E<24?_[m++]=128|E:pt(E);for(let x=0;x<E;x++)L(y[x])}else if(v===Map)if((this.mapsAsObjects?this.useTag259ForMaps!==!1:this.useTag259ForMaps)&&(_[m++]=217,_[m++]=1,_[m++]=3),E=y.size,E<24?_[m++]=160|E:E<256?(_[m++]=184,_[m++]=E):E<65536?(_[m++]=185,_[m++]=E>>8,_[m++]=E&255):(_[m++]=186,ge.setUint32(m,E),m+=4),c.keyMap)for(let[x,M]of y)L(c.encodeKey(x)),L(M);else for(let[x,M]of y)L(x),L(M);else{for(let x=0,M=Zs.length;x<M;x++){let q=El[x];if(y instanceof q){let Z=Zs[x],ee=Z.tag;ee==null&&(ee=Z.getTag&&Z.getTag.call(this,y)),ee<24?_[m++]=192|ee:ee<256?(_[m++]=216,_[m++]=ee):ee<65536?(_[m++]=217,_[m++]=ee>>8,_[m++]=ee&255):ee>-1&&(_[m++]=218,ge.setUint32(m,ee),m+=4),Z.encode.call(this,y,L,J);return}}if(y[Symbol.iterator]){if(_s){let x=new Error("Iterable should be serialized as iterator");throw x.iteratorNotHandled=!0,x}_[m++]=159;for(let x of y)L(x);_[m++]=255;return}if(y[Symbol.asyncIterator]||bs(y)){let x=new Error("Iterable/blob should be serialized as iterator");throw x.iteratorNotHandled=!0,x}if(this.useToJSON&&y.toJSON){const x=y.toJSON();if(x!==y)return L(x)}X(y,!y.hasOwnProperty)}}else if(A==="boolean")_[m++]=y?245:244;else if(A==="bigint"){if(y<BigInt(1)<<BigInt(64)&&y>=0)_[m++]=27,ge.setBigUint64(m,y);else if(y>-(BigInt(1)<<BigInt(64))&&y<0)_[m++]=59,ge.setBigUint64(m,-y-BigInt(1));else if(this.largeBigIntToFloat)_[m++]=251,ge.setFloat64(m,Number(y));else throw new RangeError(y+" was too large to fit in CBOR 64-bit integer format, set largeBigIntToFloat to convert to float-64");m+=8}else if(A==="undefined")_[m++]=247;else throw new Error("Unknown type: "+A)},X=this.useRecords===!1?this.variableMapSize?y=>{let A=Object.keys(y),E=Object.values(y),v=A.length;if(v<24?_[m++]=160|v:v<256?(_[m++]=184,_[m++]=v):v<65536?(_[m++]=185,_[m++]=v>>8,_[m++]=v&255):(_[m++]=186,ge.setUint32(m,v),m+=4),c.keyMap)for(let x=0;x<v;x++)L(c.encodeKey(A[x])),L(E[x]);else for(let x=0;x<v;x++)L(A[x]),L(E[x])}:(y,A)=>{_[m++]=185;let E=m-n;m+=2;let v=0;if(c.keyMap)for(let x in y)(A||y.hasOwnProperty(x))&&(L(c.encodeKey(x)),L(y[x]),v++);else for(let x in y)(A||y.hasOwnProperty(x))&&(L(x),L(y[x]),v++);_[E+++n]=v>>8,_[E+n]=v&255}:(y,A)=>{let E,v=i.transitions||(i.transitions=Object.create(null)),x=0,M=0,q,Z;if(this.keyMap){Z=Object.keys(y).map(te=>this.encodeKey(te)),M=Z.length;for(let te=0;te<M;te++){let St=Z[te];E=v[St],E||(E=v[St]=Object.create(null),x++),v=E}}else for(let te in y)(A||y.hasOwnProperty(te))&&(E=v[te],E||(v[Qe]&1048576&&(q=v[Qe]&65535),E=v[te]=Object.create(null),x++),v=E,M++);let ee=v[Qe];if(ee!==void 0)ee&=65535,_[m++]=217,_[m++]=ee>>8|224,_[m++]=ee&255;else if(Z||(Z=v.__keys__||(v.__keys__=Object.keys(y))),q===void 0?(ee=i.nextId++,ee||(ee=0,i.nextId=1),ee>=sa&&(i.nextId=(ee=l)+1)):ee=q,i[ee]=Z,ee<l){_[m++]=217,_[m++]=ee>>8|224,_[m++]=ee&255,v=i.transitions;for(let te=0;te<M;te++)(v[Qe]===void 0||v[Qe]&1048576)&&(v[Qe]=ee),v=v[Z[te]];v[Qe]=ee|1048576,s=!0}else{if(v[Qe]=ee,ge.setUint32(m,3655335680),m+=3,x&&(B+=z*x),V.length>=sa-l&&(V.shift()[Qe]=void 0),V.push(v),pt(M+2),L(57344+ee),L(Z),A===null)return;for(let te in y)(A||y.hasOwnProperty(te))&&L(y[te]);return}if(M<24?_[m++]=128|M:pt(M),A!==null)for(let te in y)(A||y.hasOwnProperty(te))&&L(y[te])},J=y=>{let A;if(y>16777216){if(y-n>ia)throw new Error("Encoded buffer would be larger than maximum buffer size");A=Math.min(ia,Math.round(Math.max((y-n)*(y>67108864?1.25:2),4194304)/4096)*4096)}else A=(Math.max(y-n<<2,_.length-1)>>12)+1<<12;let E=new ys(A);return ge=new DataView(E.buffer,0,A),_.copy?_.copy(E,0,n,y):E.set(_.slice(n,y)),m-=n,n=0,wt=E.length-10,_=E};let N=100,ve=1e3;this.encodeAsIterable=function(y,A){return W(y,A,me)},this.encodeAsAsyncIterable=function(y,A){return W(y,A,ie)};function*me(y,A,E){let v=y.constructor;if(v===Object){let x=c.useRecords!==!1;x?X(y,null):oa(Object.keys(y).length,160);for(let M in y){let q=y[M];x||L(M),q&&typeof q=="object"?A[M]?yield*me(q,A[M]):yield*Ye(q,A,M):L(q)}}else if(v===Array){let x=y.length;pt(x);for(let M=0;M<x;M++){let q=y[M];q&&(typeof q=="object"||m-n>N)?A.element?yield*me(q,A.element):yield*Ye(q,A,"element"):L(q)}}else if(y[Symbol.iterator]){_[m++]=159;for(let x of y)x&&(typeof x=="object"||m-n>N)?A.element?yield*me(x,A.element):yield*Ye(x,A,"element"):L(x);_[m++]=255}else bs(y)?(oa(y.size,64),yield _.subarray(n,m),yield y,Ae()):y[Symbol.asyncIterator]?(_[m++]=159,yield _.subarray(n,m),yield y,Ae(),_[m++]=255):L(y);E&&m>n?yield _.subarray(n,m):m-n>N&&(yield _.subarray(n,m),Ae())}function*Ye(y,A,E){let v=m-n;try{L(y),m-n>N&&(yield _.subarray(n,m),Ae())}catch(x){if(x.iteratorNotHandled)A[E]={},m=n+v,yield*me.call(this,y,A[E]);else throw x}}function Ae(){N=ve,c.encode(null,xs)}function W(y,A,E){return A&&A.chunkThreshold?N=ve=A.chunkThreshold:N=100,y&&typeof y=="object"?(c.encode(null,xs),E(y,c.iterateProperties||(c.iterateProperties={}),!0)):[c.encode(y)]}async function*ie(y,A){for(let E of me(y,A,!0)){let v=E.constructor;if(v===ra||v===Uint8Array)yield E;else if(bs(E)){let x=E.stream().getReader(),M;for(;!(M=await x.read()).done;)yield M.value}else if(E[Symbol.asyncIterator])for await(let x of E)Ae(),x?yield*ie(x,A.async||(A.async={})):yield c.encode(x);else yield E}}}useBuffer(e){_=e,ge=new DataView(_.buffer,_.byteOffset,_.byteLength),m=0}clearSharedData(){this.structures&&(this.structures=[]),this.sharedValues&&(this.sharedValues=void 0)}updateSharedData(){let e=this.sharedVersion||0;this.sharedVersion=e+1;let n=this.structures.slice(0),r=new Rl(n,this.sharedValues,this.sharedVersion),s=this.saveShared(r,i=>(i&&i.version||0)==e);return s===!1?(r=this.getShared()||{},this.structures=r.structures||[],this.sharedValues=r.packedValues,this.sharedVersion=r.version,this.structures.nextId=this.structures.length):n.forEach((i,o)=>this.structures[o]=i),s}};function oa(t,e){t<24?_[m++]=e|t:t<256?(_[m++]=e|24,_[m++]=t):t<65536?(_[m++]=e|25,_[m++]=t>>8,_[m++]=t&255):(_[m++]=e|26,ge.setUint32(m,t),m+=4)}class Rl{constructor(e,n,r){this.structures=e,this.packedValues=n,this.version=r}}function pt(t){t<24?_[m++]=128|t:t<256?(_[m++]=152,_[m++]=t):t<65536?(_[m++]=153,_[m++]=t>>8,_[m++]=t&255):(_[m++]=154,ge.setUint32(m,t),m+=4)}const Up=typeof Blob>"u"?function(){}:Blob;function bs(t){if(t instanceof Up)return!0;let e=t[Symbol.toStringTag];return e==="Blob"||e==="File"}function Pr(t,e){switch(typeof t){case"string":if(t.length>3){if(e.objectMap[t]>-1||e.values.length>=e.maxValues)return;let r=e.get(t);if(r)++r.count==2&&e.values.push(t);else if(e.set(t,{count:1}),e.samplingPackedValues){let s=e.samplingPackedValues.get(t);s?s.count++:e.samplingPackedValues.set(t,{count:1})}}break;case"object":if(t)if(t instanceof Array)for(let r=0,s=t.length;r<s;r++)Pr(t[r],e);else{let r=!e.encoder.useRecords;for(var n in t)t.hasOwnProperty(n)&&(r&&Pr(n,e),Pr(t[n],e))}break;case"function":console.log(t)}}const $p=new Uint8Array(new Uint16Array([1]).buffer)[0]==1;El=[Date,Set,Error,RegExp,Jt,ArrayBuffer,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,typeof BigUint64Array>"u"?function(){}:BigUint64Array,Int8Array,Int16Array,Int32Array,typeof BigInt64Array>"u"?function(){}:BigInt64Array,Float32Array,Float64Array,Rl];Zs=[{tag:1,encode(t,e){let n=t.getTime()/1e3;(this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296?(_[m++]=26,ge.setUint32(m,n),m+=4):(_[m++]=251,ge.setFloat64(m,n),m+=8)}},{tag:258,encode(t,e){let n=Array.from(t);e(n)}},{tag:27,encode(t,e){e([t.name,t.message])}},{tag:27,encode(t,e){e(["RegExp",t.source,t.flags])}},{getTag(t){return t.tag},encode(t,e){e(t.value)}},{encode(t,e,n){aa(t,n)}},{getTag(t){if(t.constructor===Uint8Array&&(this.tagUint8Array||tr&&this.tagUint8Array!==!1))return 64},encode(t,e,n){aa(t,n)}},dt(68,1),dt(69,2),dt(70,4),dt(71,8),dt(72,1),dt(77,2),dt(78,4),dt(79,8),dt(85,4),dt(86,8),{encode(t,e){let n=t.packedValues||[],r=t.structures||[];if(n.values.length>0){_[m++]=216,_[m++]=51,pt(4);let s=n.values;e(s),pt(0),pt(0),packedObjectMap=Object.create(sharedPackedObjectMap||null);for(let i=0,o=s.length;i<o;i++)packedObjectMap[s[i]]=i}if(r){ge.setUint32(m,3655335424),m+=3;let s=r.slice(0);s.unshift(57344),s.push(new Jt(t.version,1399353956)),e(s)}else e(new Jt(t.version,1399353956))}}];function dt(t,e){return!$p&&e>1&&(t-=4),{tag:t,encode:function(r,s){let i=r.byteLength,o=r.byteOffset||0,a=r.buffer||r;s(tr?rs.from(a,o,i):new Uint8Array(a,o,i))}}}function aa(t,e){let n=t.byteLength;n<24?_[m++]=64+n:n<256?(_[m++]=88,_[m++]=n):n<65536?(_[m++]=89,_[m++]=n>>8,_[m++]=n&255):(_[m++]=90,ge.setUint32(m,n),m+=4),m+n>=_.length&&e(m+n),_.set(t.buffer?t:new Uint8Array(t),m),m+=n}function Np(t,e){let n,r=e.length*2,s=t.length-r;e.sort((i,o)=>i.offset>o.offset?1:-1);for(let i=0;i<e.length;i++){let o=e[i];o.id=i;for(let a of o.references)t[a++]=i>>8,t[a]=i&255}for(;n=e.pop();){let i=n.offset;t.copyWithin(i+r,i,s),r-=2;let o=i+r;t[o++]=216,t[o++]=28,s=i}return t}function ca(t,e){ge.setUint32(ke.position+t,m-ke.position-t+1);let n=ke;ke=null,e(n[0]),e(n[1])}let Li=new Bp({useRecords:!1});Li.encode;Li.encodeAsIterable;Li.encodeAsAsyncIterable;const la=512,jp=1024,xs=2048;function en(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class kl{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),c=e.slice(o,a),f={__peerData:this._dataCount,n:i,data:c,total:s};n.push(f),o=a,i++}return this._dataCount++,n}}}function Fp(t){let e=0;for(const s of t)e+=s.byteLength;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.byteLength;return n}const vs=Xo.default||Xo,An=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return vs.browserDetails.browser}getVersion(){return vs.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=vs.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Vp=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),Tl=()=>Math.random().toString(36).slice(2),fa={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class zp extends kl{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=fa,this.browser=An.getBrowser(),this.browserVersion=An.getVersion(),this.pack=Uc,this.unpack=Bc,this.supports=function(){const n={browser:An.isBrowserSupported(),webRTC:An.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(fa),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!An.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=Vp,this.randomToken=Tl}}const Ke=new zp,Hp="PeerJS: ";var ua;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(ua||(ua={}));class Kp{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[Hp,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var K=new Kp,Bi={},qp=Object.prototype.hasOwnProperty,ze="~";function Xn(){}Object.create&&(Xn.prototype=Object.create(null),new Xn().__proto__||(ze=!1));function Gp(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function Pl(t,e,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new Gp(n,r||t,s),o=ze?ze+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],i]:t._events[o].push(i):(t._events[o]=i,t._eventsCount++),t}function Or(t,e){--t._eventsCount===0?t._events=new Xn:delete t._events[e]}function je(){this._events=new Xn,this._eventsCount=0}je.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)qp.call(n,r)&&e.push(ze?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};je.prototype.listeners=function(e){var n=ze?ze+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};je.prototype.listenerCount=function(e){var n=ze?ze+e:e,r=this._events[n];return r?r.fn?1:r.length:0};je.prototype.emit=function(e,n,r,s,i,o){var a=ze?ze+e:e;if(!this._events[a])return!1;var c=this._events[a],f=arguments.length,l,u;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,r),!0;case 4:return c.fn.call(c.context,n,r,s),!0;case 5:return c.fn.call(c.context,n,r,s,i),!0;case 6:return c.fn.call(c.context,n,r,s,i,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d=c.length,g;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,n);break;case 3:c[u].fn.call(c[u].context,n,r);break;case 4:c[u].fn.call(c[u].context,n,r,s);break;default:if(!l)for(g=1,l=new Array(f-1);g<f;g++)l[g-1]=arguments[g];c[u].fn.apply(c[u].context,l)}}return!0};je.prototype.on=function(e,n,r){return Pl(this,e,n,r,!1)};je.prototype.once=function(e,n,r){return Pl(this,e,n,r,!0)};je.prototype.removeListener=function(e,n,r,s){var i=ze?ze+e:e;if(!this._events[i])return this;if(!n)return Or(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&Or(this,i);else{for(var a=0,c=[],f=o.length;a<f;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[i]=c.length===1?c[0]:c:Or(this,i)}return this};je.prototype.removeAllListeners=function(e){var n;return e?(n=ze?ze+e:e,this._events[n]&&Or(this,n)):(this._events=new Xn,this._eventsCount=0),this};je.prototype.off=je.prototype.removeListener;je.prototype.addListener=je.prototype.on;je.prefixed=ze;je.EventEmitter=je;Bi=je;var tn={};en(tn,"ConnectionType",()=>bt);en(tn,"PeerErrorType",()=>Ce);en(tn,"BaseConnectionErrorType",()=>Qn);en(tn,"DataConnectionErrorType",()=>Zn);en(tn,"SerializationType",()=>Cn);en(tn,"SocketEventType",()=>_t);en(tn,"ServerMessageType",()=>Me);var bt;(function(t){t.Data="data",t.Media="media"})(bt||(bt={}));var Ce;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(Ce||(Ce={}));var Qn;(function(t){t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed"})(Qn||(Qn={}));var Zn;(function(t){t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big"})(Zn||(Zn={}));var Cn;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw"})(Cn||(Cn={}));var _t;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(_t||(_t={}));var Me;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(Me||(Me={}));var Ui={};Ui=JSON.parse('{"name":"peerjs","version":"1.5.2","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-cbor":"dist/serializer.cbor.mjs","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-cbor":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/Cbor.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","cbor-x":"1.5.4","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^8.0.0"},"alias":{"process":false,"buffer":false}}');class Wp extends Bi.EventEmitter{constructor(e,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Ui.version),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),K.log("Server message received:",i)}catch{K.log("Invalid server message",s.data);return}this.emit(_t.Message,i)},this._socket.onclose=s=>{this._disconnected||(K.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(_t.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),K.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){K.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Me.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(_t.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Ol{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===bt.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,s={ordered:!!e.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){K.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;K.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(K.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:Me.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":K.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Qn.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":K.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Qn.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":K.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},K.log("Listening for data channel"),e.ondatachannel=o=>{K.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},K.log("Listening for remote stream"),e.ontrack=o=>{K.log("Received remote stream");const a=o.streams[0],c=i.getConnection(n,r);if(c.type===bt.Media){const f=c;this._addStreamToMediaConnection(a,f)}}}cleanup(){K.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);K.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),K.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===bt.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:Me.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Ce.WebRTC,s),K.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(Ce.WebRTC,r),K.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();K.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),K.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Me.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(Ce.WebRTC,s),K.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(Ce.WebRTC,r),K.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;K.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),K.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(Ce.WebRTC,o),K.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){K.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),K.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Ce.WebRTC,n),K.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(K.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return K.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){K.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class Al extends Bi.EventEmitter{emitError(e,n){K.error("Error:",n),this.emit("error",new Jp(`${e}`,n))}}class Jp extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class wl extends Al{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var oi;const Fn=class Fn extends wl{get type(){return bt.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Fn.ID_PREFIX+Ke.randomToken(),this._negotiator=new Ol(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{K.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{K.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){K.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case Me.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Me.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:K.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){K.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};oi=new WeakMap,Tn(Fn,oi,Fn.ID_PREFIX="mc_");let jr=Fn;class Yp{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Ui.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){K.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Ke.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Ke.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw K.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var ai,ci;const Ht=class Ht extends wl{get type(){return bt.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||Ht.ID_PREFIX+Tl(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Ol(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{K.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{K.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{K.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Zn.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Me.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Me.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:K.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};ai=new WeakMap,ci=new WeakMap,Tn(Ht,ai,Ht.ID_PREFIX="dc_"),Tn(Ht,ci,Ht.MAX_BUFFERED_AMOUNT=8388608);let Fr=Ht;class $i extends Fr{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>Fr.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return K.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Cs extends $i{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new kl,this.serialization=Cn.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=Bc(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=Fp(r.data);this._handleDataMessage({data:s})}}_send(e,n){const r=Uc(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);K.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Xp extends $i{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Cn.None}}class Qp extends $i{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Ke.chunkedMTU){this.emitError(Zn.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=Cn.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var li;const Vn=class Vn extends Al{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:Xp,json:Qp,binary:Cs,"binary-utf8":Cs,default:Cs},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:Ke.CLOUD_HOST,port:Ke.CLOUD_PORT,path:"/",key:Vn.DEFAULT_KEY,token:Ke.randomToken(),config:Ke.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ke.CLOUD_HOST?this._options.secure=Ke.isSecure():this._options.host==Ke.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&K.setLogFunction(this._options.logFunction),K.logLevel=this._options.debug||0,this._api=new Yp(n),this._socket=this._createServerConnection(),!Ke.supports.audioVideo&&!Ke.supports.data){this._delayedAbort(Ce.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Ke.validateId(r)){this._delayedAbort(Ce.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(Ce.ServerError,s))}_createServerConnection(){const e=new Wp(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(_t.Message,n=>{this._handleMessage(n)}),e.on(_t.Error,n=>{this._abort(Ce.SocketError,n)}),e.on(_t.Disconnected,()=>{this.disconnected||(this.emitError(Ce.Network,"Lost connection to server."),this.disconnect())}),e.on(_t.Close,()=>{this.disconnected||this._abort(Ce.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,s=e.src;switch(n){case Me.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Me.Error:this._abort(Ce.ServerError,r.msg);break;case Me.IdTaken:this._abort(Ce.UnavailableID,`ID "${this.id}" is taken`);break;case Me.InvalidKey:this._abort(Ce.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Me.Leave:K.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case Me.Expire:this.emitError(Ce.PeerUnavailable,`Could not connect to peer ${s}`);break;case Me.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),K.warn(`Offer received for existing Connection ID:${i}`)),r.type===bt.Media){const c=new jr(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=c,this._addConnection(s,o),this.emit("call",c)}else if(r.type===bt.Data){const c=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=c,this._addConnection(s,o),this.emit("connection",c)}else{K.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const c of a)o.handleMessage(c);break}default:{if(!r){K.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(e):i?this._storeMessage(i,e):K.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){K.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Ce.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){K.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Ce.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){K.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new jr(e,this,{...r,_stream:n});return this._addConnection(e,s),s}_addConnection(e,n){K.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){K.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(K.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;K.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)K.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)K.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(Ce.ServerError,n))}};li=new WeakMap,Tn(Vn,li,Vn.DEFAULT_KEY="peerjs");let Vr=Vn;const Ct=Object.create(null);Ct.open="0";Ct.close="1";Ct.ping="2";Ct.pong="3";Ct.message="4";Ct.upgrade="5";Ct.noop="6";const Ar=Object.create(null);Object.keys(Ct).forEach(t=>{Ar[Ct[t]]=t});const ei={type:"error",data:"parser error"},Il=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ml=typeof ArrayBuffer=="function",Dl=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ni=({type:t,data:e},n,r)=>Il&&e instanceof Blob?n?r(e):ha(e,r):Ml&&(e instanceof ArrayBuffer||Dl(e))?n?r(e):ha(new Blob([e]),r):r(Ct[t]+(e||"")),ha=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function da(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ss;function Zp(t,e){if(Il&&t.data instanceof Blob)return t.data.arrayBuffer().then(da).then(e);if(Ml&&(t.data instanceof ArrayBuffer||Dl(t.data)))return e(da(t.data));Ni(t,!1,n=>{Ss||(Ss=new TextEncoder),e(Ss.encode(n))})}const pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<pa.length;t++)Dn[pa.charCodeAt(t)]=t;const em=t=>{let e=t.length*.75,n=t.length,r,s=0,i,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),l=new Uint8Array(f);for(r=0;r<n;r+=4)i=Dn[t.charCodeAt(r)],o=Dn[t.charCodeAt(r+1)],a=Dn[t.charCodeAt(r+2)],c=Dn[t.charCodeAt(r+3)],l[s++]=i<<2|o>>4,l[s++]=(o&15)<<4|a>>2,l[s++]=(a&3)<<6|c&63;return f},tm=typeof ArrayBuffer=="function",ji=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ll(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:nm(t.substring(1),e)}:Ar[n]?t.length>1?{type:Ar[n],data:t.substring(1)}:{type:Ar[n]}:ei},nm=(t,e)=>{if(tm){const n=em(t);return Ll(n,e)}else return{base64:!0,data:t}},Ll=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Bl="",rm=(t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((i,o)=>{Ni(i,!1,a=>{r[o]=a,++s===n&&e(r.join(Bl))})})},sm=(t,e)=>{const n=t.split(Bl),r=[];for(let s=0;s<n.length;s++){const i=ji(n[s],e);if(r.push(i),i.type==="error")break}return r};function im(){return new TransformStream({transform(t,e){Zp(t,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let Es;function ur(t){return t.reduce((e,n)=>e+n.length,0)}function hr(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let s=0;s<e;s++)n[s]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function om(t,e){Es||(Es=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ur(n)<1)break;const c=hr(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ur(n)<2)break;const c=hr(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ur(n)<8)break;const c=hr(n,8),f=new DataView(c.buffer,c.byteOffset,c.length),l=f.getUint32(0);if(l>Math.pow(2,21)-1){a.enqueue(ei);break}s=l*Math.pow(2,32)+f.getUint32(4),r=3}else{if(ur(n)<s)break;const c=hr(n,s);a.enqueue(ji(i?c:Es.decode(c),e)),r=0}if(s===0||s>t){a.enqueue(ei);break}}}})}const Ul=4;function Ee(t){if(t)return am(t)}function am(t){for(var e in Ee.prototype)t[e]=Ee.prototype[e];return t}Ee.prototype.on=Ee.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ee.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Ee.prototype.off=Ee.prototype.removeListener=Ee.prototype.removeAllListeners=Ee.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===e||r.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Ee.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,e)}return this};Ee.prototype.emitReserved=Ee.prototype.emit;Ee.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ee.prototype.hasListeners=function(t){return!!this.listeners(t).length};const et=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function $l(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const cm=et.setTimeout,lm=et.clearTimeout;function ss(t,e){e.useNativeTimers?(t.setTimeoutFn=cm.bind(et),t.clearTimeoutFn=lm.bind(et)):(t.setTimeoutFn=et.setTimeout.bind(et),t.clearTimeoutFn=et.clearTimeout.bind(et))}const fm=1.33;function um(t){return typeof t=="string"?hm(t):Math.ceil((t.byteLength||t.size)*fm)}function hm(t){let e=0,n=0;for(let r=0,s=t.length;r<s;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function dm(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function pm(t){let e={},n=t.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class mm extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class Fi extends Ee{constructor(e){super(),this.writable=!1,ss(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,n,r){return super.emitReserved("error",new mm(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ji(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=dm(e);return n.length?"?"+n:""}}const Nl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ti=64,gm={};let ma=0,dr=0,ga;function ya(t){let e="";do e=Nl[t%ti]+e,t=Math.floor(t/ti);while(t>0);return e}function jl(){const t=ya(+new Date);return t!==ga?(ma=0,ga=t):t+"."+ya(ma++)}for(;dr<ti;dr++)gm[Nl[dr]]=dr;let Fl=!1;try{Fl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ym=Fl;function Vl(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ym))return new XMLHttpRequest}catch{}if(!e)try{return new et[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function _m(){}const bm=function(){return new Vl({xdomain:!1}).responseType!=null}();class xm extends Fi{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const n=e&&e.forceBase64;this.supportsBinary=bm&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};sm(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,rm(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=jl()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new xt(this.uri(),e)}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class xt extends Ee{constructor(e,n){super(),ss(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=n.data!==void 0?n.data:null,this.create()}create(){var e;const n=$l(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Vl(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=xt.requestsCount++,xt.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=_m,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete xt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}xt.requestsCount=0;xt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",_a);else if(typeof addEventListener=="function"){const t="onpagehide"in et?"pagehide":"unload";addEventListener(t,_a,!1)}}function _a(){for(let t in xt.requests)xt.requests.hasOwnProperty(t)&&xt.requests[t].abort()}const Vi=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),pr=et.WebSocket||et.MozWebSocket,ba=!0,vm="arraybuffer",xa=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Cm extends Fi{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=xa?{}:$l(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=ba&&!xa?n?new pr(e,n):new pr(e):new pr(e,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;Ni(r,this.supportsBinary,i=>{const o={};try{ba&&this.ws.send(i)}catch{}s&&Vi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=jl()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}check(){return!!pr}}class Sm extends Fi{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const n=om(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),s=im();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],s=n===e.length-1;this.writer.write(r).then(()=>{s&&Vi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Em={websocket:Cm,webtransport:Sm,polling:xm},Rm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,km=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ni(t){if(t.length>2e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let s=Rm.exec(t||""),i={},o=14;for(;o--;)i[km[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Tm(i,i.path),i.queryKey=Pm(i,i.query),i}function Tm(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Pm(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}let zl=class cn extends Ee{constructor(e,n={}){super(),this.binaryType=vm,this.writeBuffer=[],e&&typeof e=="object"&&(n=e,e=null),e?(e=ni(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=ni(n.host).host),ss(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=pm(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Ul,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Em[e](r)}open(){let e;if(this.opts.rememberUpgrade&&cn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),r=!1;cn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;cn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(l(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,l(),n.close(),n=null)}const o=u=>{const d=new Error("probe error: "+u);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function c(){o("socket closed")}function f(u){n&&u.name!==n.name&&i()}const l=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",f)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",cn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=um(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){cn.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};zl.protocol=Ul;function Om(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=ni(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Am=typeof ArrayBuffer=="function",wm=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Hl=Object.prototype.toString,Im=typeof Blob=="function"||typeof Blob<"u"&&Hl.call(Blob)==="[object BlobConstructor]",Mm=typeof File=="function"||typeof File<"u"&&Hl.call(File)==="[object FileConstructor]";function zi(t){return Am&&(t instanceof ArrayBuffer||wm(t))||Im&&t instanceof Blob||Mm&&t instanceof File}function wr(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(wr(t[n]))return!0;return!1}if(zi(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wr(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&wr(t[n]))return!0;return!1}function Dm(t){const e=[],n=t.data,r=t;return r.data=ri(n,e),r.attachments=e.length,{packet:r,buffers:e}}function ri(t,e){if(!t)return t;if(zi(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=ri(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=ri(t[r],e));return n}return t}function Lm(t,e){return t.data=si(t.data,e),delete t.attachments,t}function si(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=si(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=si(t[n],e));return t}const Bm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Um=5;var le;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(le||(le={}));class $m{constructor(e){this.replacer=e}encode(e){return(e.type===le.EVENT||e.type===le.ACK)&&wr(e)?this.encodeAsBinary({type:e.type===le.EVENT?le.BINARY_EVENT:le.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===le.BINARY_EVENT||e.type===le.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Dm(e),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function va(t){return Object.prototype.toString.call(t)==="[object Object]"}class Hi extends Ee{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===le.BINARY_EVENT;r||n.type===le.BINARY_ACK?(n.type=r?le.EVENT:le.ACK,this.reconstructor=new Nm(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(zi(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(le[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===le.BINARY_EVENT||r.type===le.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(i,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(Hi.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case le.CONNECT:return va(n);case le.DISCONNECT:return n===void 0;case le.CONNECT_ERROR:return typeof n=="string"||va(n);case le.EVENT:case le.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Bm.indexOf(n[0])===-1);case le.ACK:case le.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Nm{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Lm(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const jm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hi,Encoder:$m,get PacketType(){return le},protocol:Um},Symbol.toStringTag,{value:"Module"}));function st(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Fm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Kl extends Ee{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[st(e,"open",this.onopen.bind(this)),st(e,"packet",this.onpacket.bind(this)),st(e,"error",this.onerror.bind(this)),st(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(Fm.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:le.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:le.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case le.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case le.EVENT:case le.BINARY_EVENT:this.onevent(e);break;case le.ACK:case le.BINARY_ACK:this.onack(e);break;case le.DISCONNECT:this.ondisconnect();break;case le.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:le.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:le.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Rn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Rn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Rn.prototype.reset=function(){this.attempts=0};Rn.prototype.setMin=function(t){this.ms=t};Rn.prototype.setMax=function(t){this.max=t};Rn.prototype.setJitter=function(t){this.jitter=t};class ii extends Ee{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ss(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Rn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||jm;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zl(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=st(n,"open",function(){r.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=st(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(st(e,"ping",this.onping.bind(this)),st(e,"data",this.ondata.bind(this)),st(e,"error",this.onerror.bind(this)),st(e,"close",this.onclose.bind(this)),st(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Vi(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Kl(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const wn={};function Ir(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Om(t,e.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=wn[s]&&i in wn[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new ii(r,e):(wn[s]||(wn[s]=new ii(r,e)),c=wn[s]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Ir,{Manager:ii,Socket:Kl,io:Ir,connect:Ir});var Rt={VITE_REPEATER_URL:"https://randommy-repeater.chickenkiller.com/",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Vm={class:"h-full flex flex-col items-center justify-center lg:p-4"},zm={class:"flex flex-col | h-full w-full max-w-[800px] | border"},Hm={class:"flex items-center | border-t"},Km=De("button",{class:"py-1.5 px-2 flex | border-r"},[De("i",{class:"icon icon-close"})],-1),qm=De("i",{class:"icon icon-arrow-right"},null,-1),Gm=[qm],Wm=En({__name:"HomeView",setup(t){const e=Vt(),n=Vt();let r;const s=Vt(!0),i=O=>s.value=O,o=Vt(!1),a=O=>o.value=O,c=Vt([]);let f,l,u;console.log(Rt.VITE_REPEATER_HOST),console.log(Rt.VITE_REPEATER_PORT),console.log(Rt.VITE_REPEATER_PATH);const d=async()=>{a(!0),r=Ir("https://randommy-repeater.chickenkiller.com/",{transports:["websocket"]}),r.on("connect",()=>{r.emit("enter",{type:"enter",id:r.id,sex:"m",country:"korea"})}),r.on("matched",async B=>{B.sender.id===r.id?(u=new Vr(B.sender.id,{host:Rt.VITE_REPEATER_HOST,port:Rt.VITE_REPEATER_PORT,path:Rt.VITE_REPEATER_PATH}),u.on("connection",z=>{console.log("connection"),z.on("open",()=>{z.send(`Hello: ${B.receiver.id}`),console.log("opened")})}),setTimeout(()=>{l=u.connect(B.receiver.id),l.on("data",z=>{console.log("data: ",z)})},100)):B.receiver.id===r.id&&(u=new Vr(B.receiver.id,{host:Rt.VITE_REPEATER_HOST,port:Rt.VITE_REPEATER_PORT,path:Rt.VITE_REPEATER_PATH}),u.on("connection",z=>{console.log("connection"),z.on("open",()=>{z.send(`Hello: ${B.sender.id}`),console.log("opened")})}),setTimeout(()=>{l=u.connect(B.sender.id),l.on("data",z=>{console.log("data: ",z)})},100))}),r.on("receiveRtcAnswer",async B=>{B.senderId===r.id&&console.log(B.data)});const O=[1e4,11e3,12e3],V=Math.floor(Math.random()*3);f=setTimeout(()=>{s.value},O[V])},g=()=>{r.disconnect(),r.close(),a(!1),i(!0),clearTimeout(f),l.close(),u.destroy()},T=async O=>{c.value.push({my:!0,message:O}),e.value.value="",await cp.sleep(1),n.value.scrollTop=999999999999999};return(O,V)=>($e(),qe("section",Vm,[De("div",zm,[De("div",{ref_key:"scrollAreaEl",ref:n,class:"h-full | flex flex-col gap-8 | p-4 | overflow-auto"},[Te(rp),Te(Vd,{messages:c.value},null,8,["messages"])],512),De("div",Hm,[Km,De("input",{ref_key:"inputEl",ref:e,class:"w-full | mt-auto | py-1.5 px-2",placeholder:" .",onKeypress:V[0]||(V[0]=dh(B=>T(B.target.value),["enter"]))},null,544),De("button",{class:"py-1.5 px-2 flex | border-l",onClick:V[1]||(V[1]=B=>T(e.value.value))},Gm)])]),s.value?($e(),yc(Zd,{key:0,loading:o.value,onStart:d,onPause:g},null,8,["loading"])):bc("",!0)]))}}),Jm=Ud({history:hd("./"),routes:[{path:"/",name:"home",component:Wm}]}),Ki=gh(Dh);Ki.use(vh());Ki.use(Jm);Ki.mount("#app");
